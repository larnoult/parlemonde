!function(s){jQuery.fn.ksp_betterClone=function(){for(var e=s.apply(this,arguments),i=this.find("textarea").add(this.filter("textarea")),t=e.find("textarea").add(e.filter("textarea")),a=this.find("select").add(this.filter("select")),l=e.find("select").add(e.filter("select")),r=0,n=i.length;r<n;++r)jQuery(t[r]).val(jQuery(i[r]).val());for(var r=0,n=a.length;r<n;++r)for(var p=0,d=a[r].options.length;p<d;++p)!0===a[r].options[p].selected&&(l[r].options[p].selected=!0);return e}}(jQuery.fn.clone),function($){$(window).load(function(){function s(){$(document.getElementById("kt_ajax_overlay")).fadeOut();var s=$(".ksp-admin .ksp-message.ksp-message-ok");s.css({display:"block",opacity:0}),s.animate({opacity:1},300).delay(2e3).animate({opacity:0},300,function(){s.css("display","none")})}function e(){$(document.getElementById("kt_ajax_overlay")).fadeOut();var s=$(".ksp-admin .ksp-message.ksp-message-error");s.css({display:"block",opacity:0}),s.animate({opacity:1},300).delay(2e3).animate({opacity:0},300,function(){s.css("display","none")})}function i(){$("#ksp-slider-settings .ksp-settings-table #ksp-slider-fullHeight").length&&($("#ksp-slider-settings .ksp-settings-table #ksp-slider-fullHeight").is(":checked")?$("#ksp-slider-settings .ksp-settings-table .ksp-full-height-offset-row").show():$("#ksp-slider-settings .ksp-settings-table .ksp-full-height-offset-row").hide())}function t(){$("#ksp-slide-settings .ksp-slide-settings-list .ksp-slide-background_type_video").length&&$("#ksp-slide-settings .ksp-slide-settings-list .ksp-slide-background_type_video").each(function(){var s=$("option:selected",this),e=this.value;"youtube"==e?($(this).closest(".ksp-slide-settings-list").find(".ksp-video-options-row").show(),$(this).closest(".ksp-slide-settings-list").find(".ksp-video-html5-options-row").hide(),$(this).closest(".ksp-slide-settings-list").find(".ksp-video-youtube-options-row").show()):"html5"==e?($(this).closest(".ksp-slide-settings-list").find(".ksp-video-options-row").show(),$(this).closest(".ksp-slide-settings-list").find(".ksp-video-html5-options-row").show(),$(this).closest(".ksp-slide-settings-list").find(".ksp-video-youtube-options-row").hide()):($(this).closest(".ksp-slide-settings-list").find(".ksp-video-html5-options-row").hide(),$(this).closest(".ksp-slide-settings-list").find(".ksp-video-youtube-options-row").hide(),$(this).closest(".ksp-slide-settings-list").find(".ksp-video-options-row").hide())})}function a(){var s=$(".ksp-admin #ksp-slides .ksp-add-new"),e=$(".ksp-admin #ksp-slides .ksp-void-slide").html();s.parent().before('<li class="kt-ui-default"><a>'+ksp_translations.slide+' <span class="ksp-slide-index">'+(j+1)+'</span></a><span class="ksp-close"></span></li>'),$(".ksp-admin #ksp-slides .ksp-slide-tab").tabs("refresh"),$(".ksp-admin #ksp-slides .ksp-slides-list").append('<div class="ksp-slide">'+e+"</div>"),j++;var i=s.parent().index()-1;$(".ksp-admin #ksp-slides .ksp-slide-tabs ul li").eq(i).find("a").click(),$(".ksp-admin #ksp-slides .ksp-slide-tabs ul li").removeClass("active"),$(".ksp-admin #ksp-slides .ksp-slide-tabs ul li").eq(i).addClass("active"),l(),r(),$(".ksp-slide-background_type_video").change(function(){var s=$("option:selected",this),e=this.value;"youtube"==e?($(this).closest(".ksp-slide-settings-list").find(".ksp-video-options-row").show(),$(this).closest(".ksp-slide-settings-list").find(".ksp-video-html5-options-row").hide(),$(this).closest(".ksp-slide-settings-list").find(".ksp-video-youtube-options-row").show()):"html5"==e?($(this).closest(".ksp-slide-settings-list").find(".ksp-video-options-row").show(),$(this).closest(".ksp-slide-settings-list").find(".ksp-video-html5-options-row").show(),$(this).closest(".ksp-slide-settings-list").find(".ksp-video-youtube-options-row").hide()):($(this).closest(".ksp-slide-settings-list").find(".ksp-video-html5-options-row").hide(),$(this).closest(".ksp-slide-settings-list").find(".ksp-video-youtube-options-row").hide(),$(this).closest(".ksp-slide-settings-list").find(".ksp-video-options-row").hide())})}function l(){var s=parseInt($("#ksp-slider-settings .ksp-settings-table #ksp-slider-maxWidth").val()),e=parseInt($("#ksp-slider-settings .ksp-settings-table #ksp-slider-maxHeight").val());$(".ksp-admin #ksp-slides .ksp-slide .ksp-slide-editing-area").css({width:s,height:e}),$(".ksp-admin").css({width:s+40})}function r(){$(".ksp-admin #ksp-slides .ksp-slides-list .ksp-slide-settings-list .ksp-slide-background_type_color-picker-input").each(function(){$(this).wpColorPicker({change:function(s,e){var i=$(this);if("1"==i.closest(".ksp-content").find('input[name="ksp-slide-background_type_color"]:checked').val()){i.closest(".ksp-slide").find(".ksp-layers .ksp-slide-editing-area").css("background-color",e.color.toString())}},clear:function(){},hide:!0,palettes:!0})})}function n(s){var e=s.find(".ksp-slide-editing-area"),i;if(i)return void i.open();i=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),i.on("select",function(){attachment=i.state().get("selection").first().toJSON();var s=attachment.url,t=attachment.alt;e.css("background-image",'url("'+s+'")'),e.data("background-image-src",s)}),i.open()}function p(s){var e=s.find(".ksp-video-html5-options-row .ksp-slide-background-mp4_source"),i;if(i)return void i.open();i=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),i.on("select",function(){attachment=i.state().get("selection").first().toJSON();var s=attachment.url;e.val(s)}),i.open()}function d(s){var e=s.find(".ksp-video-html5-options-row .ksp-slide-background-webm_source"),i;if(i)return void i.open();i=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),i.on("select",function(){attachment=i.state().get("selection").first().toJSON();var s=attachment.url;e.val(s)}),i.open()}function o(){$(".ksp-admin .ksp-layers .ksp-layer-wrap").draggable({containment:"parent",start:function(){k($(this))},drag:function(){var s=$(this).position(),e=s.left,i=s.top,t=$(this).index();$(this).closest(".ksp-layers").find(".ksp-layers-list .ksp-layer-settings:eq("+t+") .ksp-layer-data_x").val(e),$(this).closest(".ksp-layers").find(".ksp-layers-list .ksp-layer-settings:eq("+t+") .ksp-layer-data_y").val(i)}})}function k(s){var e=s.index(),i=s.closest(".ksp-slide"),t=i.find(".ksp-layers .ksp-layers-list");t.find(".ksp-layer-settings").css("display","none"),t.find(".ksp-layer-settings").removeClass("active"),t.find(".ksp-layer-settings:eq("+e+")").css("display","block"),t.find(".ksp-layer-settings:eq("+e+")").addClass("active"),s.parent().children().removeClass("active"),s.addClass("active"),i.find(".ksp-layers-actions .ksp-delete-layer").removeClass("ksp-is-disabled"),i.find(".ksp-layers-actions .ksp-duplicate-layer").removeClass("ksp-is-disabled")}function c(){$(".ksp-admin .ksp-slide .ksp-layers .ksp-slide-editing-area .ksp-layer-wrap").removeClass("active"),$(".ksp-admin .ksp-slide .ksp-layers .ksp-layers-list .ksp-layer-settings").removeClass("active"),$(".ksp-admin .ksp-slide .ksp-layers .ksp-layers-list .ksp-layer-settings").css("display","none"),$(".ksp-admin .ksp-slide .ksp-layers-actions .ksp-delete-layer").addClass("ksp-is-disabled"),$(".ksp-admin .ksp-slide .ksp-layers-actions .ksp-duplicate-layer").addClass("ksp-is-disabled")}function y(s){var e=s.index(),i=s.closest(".ksp-slide");s.remove(),i.find(".ksp-layers-list .ksp-layer-settings:eq("+e+")").remove(),c()}function g(s){var e=s.index(),i=s.closest(".ksp-slide");s.clone().appendTo(s.parent());var t=i.find(".ksp-layers-list .ksp-layer-settings").eq(e);t.clone().insertBefore(t.parent().find(".ksp-void-text-layer-settings")),c(),k(s.parent().find(".ksp-layer-wrap").last());var a=s.parent().find(".ksp-layer-wrap").last().closest(".ksp-slide").find(".ksp-layers-list .ksp-layer-settings.active");a.find(".ksp-layer-data_in").val(t.find(".ksp-layer-data_in").val()),a.find(".ksp-layer-data_out").val(t.find(".ksp-layer-data_out").val()),a.find(".ksp-layer-custom_css").val(t.find(".ksp-layer-custom_css").val()),t.hasClass("ksp-image-layer-settings")&&(a.find(".ksp-image-layer-upload-button").data("src",t.find(".ksp-image-layer-upload-button").data("src")),a.find(".ksp-image-layer-upload-button").data("alt",t.find(".ksp-image-layer-upload-button").data("alt"))),o()}function u(){$(".ksp-admin #ksp-slides .ksp-slides-list .ksp-layer-settings-list .ksp-color-wp-color-picker").each(function(){$(this).wpColorPicker({change:function(s,e){var i=$(this).closest(".ksp-layer-settings").index();$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+i+") .ksp-layer").css("color",e.color.toString())}})})}function f(s){var e=s.find(".ksp-slide-editing-area"),i=s.find(".ksp-layers .ksp-layers-list .ksp-void-text-layer-settings"),t='<div class="ksp-layer-settings ksp-text-layer-settings">'+$(".ksp-admin .ksp-slide .ksp-layers .ksp-void-text-layer-settings").html()+"</div>";e.append('<div class="ksp-layer-wrap" style="z-index: 1;"><div class="ksp-layer ksp-text-layer">'+ksp_translations.text_layer_default_html+"</div></div>"),i.before(t),o(),k(e.find(".ksp-layer-wrap").last());var a=s.find(".ksp-text-layer-settings.active").index(),l=e.find(".ksp-layer").last(),r=parseInt($("#ksp-slider-settings .ksp-settings-table #ksp-slider-maxHeight").val()/2-parseFloat(l.closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+a+")").height())/2);e.find(".ksp-layer").last().css("top",r),l.closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+a+")").css("top",r),l.closest(".ksp-layers").find(".ksp-layers-list .ksp-layer-settings:eq("+a+") .ksp-layer-data_y").val(r);var n=parseInt($("#ksp-slider-settings .ksp-settings-table #ksp-slider-maxWidth").val()/2-parseFloat(l.closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+a+")").width())/2);l.closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+a+")").css("left",n),l.closest(".ksp-layers").find(".ksp-layers-list .ksp-layer-settings:eq("+a+") .ksp-layer-data_x").val(n),l.closest(".ksp-layers").find(".ksp-layers-list .ksp-layer-settings.active .ksp-layer-font_color").wpColorPicker({change:function(s,e){var i=$(this).closest(".ksp-layer-settings").index();$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+i+") .ksp-layer").css("color",e.color.toString())}})}function h(s){var e=s.find(".ksp-slide-editing-area"),i=s.find(".ksp-layers .ksp-layers-list .ksp-void-text-layer-settings"),t='<div class="ksp-layer-settings ksp-button-layer-settings">'+$(".ksp-admin .ksp-slide .ksp-layers .ksp-void-button-layer-settings").html()+"</div>";e.append('<div class="ksp-layer-wrap" style="z-index: 1;"><div class="ksp-layer ksp-button-layer" data-color="#ffffff" data-border-color="#000000" data-background-color="#000000" data-hcolor="#ffffff" data-hborder-color="#444444" data-hbackground-color="#444444">'+ksp_translations.button_layer_default_html+"</div></div>"),i.before(t),o(),k(e.find(".ksp-layer-wrap").last());var a=s.find(".ksp-button-layer-settings.active").index(),l=e.find(".ksp-layer").last(),r=parseInt($("#ksp-slider-settings .ksp-settings-table #ksp-slider-maxHeight").val()/2-parseFloat(l.closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+a+")").height())/2);e.find(".ksp-layer").last().css("top",r),l.closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+a+")").css("top",r),l.closest(".ksp-layers").find(".ksp-layers-list .ksp-layer-settings:eq("+a+") .ksp-layer-data_y").val(r);var n=parseInt($("#ksp-slider-settings .ksp-settings-table #ksp-slider-maxWidth").val()/2-parseFloat(l.closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+a+")").width())/2);l.closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+a+")").css("left",n),l.closest(".ksp-layers").find(".ksp-layers-list .ksp-layer-settings:eq("+a+") .ksp-layer-data_x").val(n),l.closest(".ksp-layers").find(".ksp-layers-list .ksp-layer-settings.active .ksp-layer-font_color").wpColorPicker({change:function(s,e){var i=$(this).closest(".ksp-layer-settings").index(),t=$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+i+") .ksp-layer");t.css("color",e.color.toString()),t.attr("data-color",e.color.toString()),t.mouseout(function(){$(this).css("color",e.color.toString())})}}),l.closest(".ksp-layers").find(".ksp-layers-list .ksp-layer-settings.active .ksp-layer-background_color").wpColorPicker({change:function(s,e){var i=$(this).closest(".ksp-layer-settings").index(),t=$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+i+") .ksp-layer");t.css("background",e.color.toString()),t.attr("data-background-color",e.color.toString()),t.mouseout(function(){$(this).css("background",e.color.toString())})}}),l.closest(".ksp-layers").find(".ksp-layers-list .ksp-layer-settings.active .ksp-layer-border_color").wpColorPicker({change:function(s,e){var i=$(this).closest(".ksp-layer-settings").index(),t=$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+i+") .ksp-layer");t.css("border-color",e.color.toString()),t.attr("data-border-color",e.color.toString()),t.mouseout(function(){$(this).css("border-color",e.color.toString())})}}),l.closest(".ksp-layers").find(".ksp-layers-list .ksp-layer-settings.active .ksp-layer-font_hover_color").wpColorPicker({change:function(s,e){var i=$(this).closest(".ksp-layer-settings").index(),t=$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+i+") .ksp-layer");t.attr("data-hcolor",e.color.toString()),t.mouseover(function(){$(this).css("color",e.color.toString())})}}),l.closest(".ksp-layers").find(".ksp-layers-list .ksp-layer-settings.active .ksp-layer-border_hover_color").wpColorPicker({change:function(s,e){var i=$(this).closest(".ksp-layer-settings").index(),t=$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+i+") .ksp-layer");t.attr("data-hborder-color",e.color.toString()),t.mouseover(function(){$(this).css("border-color",e.color.toString())})}}),l.closest(".ksp-layers").find(".ksp-layers-list .ksp-layer-settings.active .ksp-layer-background_hover_color").wpColorPicker({change:function(s,e){var i=$(this).closest(".ksp-layer-settings").index(),t=$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+i+") .ksp-layer");t.attr("data-hbackground-color",e.color.toString()),t.mouseover(function(){$(this).css("background",e.color.toString())})}}),l.mouseenter(function(){$(this).css("color",$(this).data("hcolor")),$(this).css("border-color",$(this).data("hborder-color")),$(this).css("background",$(this).data("hbackground-color"))}),l.mouseleave(function(){$(this).css("color",$(this).data("color")),$(this).css("border-color",$(this).data("border-color")),$(this).css("background",$(this).data("background-color"))})}function v(){$(".ksp-admin #ksp-slides .ksp-slides-list .ksp-layer-settings-list .ksp-bcolor-wp-color-picker").each(function(){$(this).wpColorPicker({change:function(s,e){var i=$(this).closest(".ksp-layer-settings").index(),t=$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+i+") .ksp-layer");t.css("color",e.color.toString()),t.mouseout(function(){$(this).css("color",e.color.toString())})}})}),$(".ksp-admin #ksp-slides .ksp-slides-list .ksp-layer-settings-list .ksp-hcolor-wp-color-picker").each(function(){$(this).wpColorPicker({change:function(s,e){var i=$(this).closest(".ksp-layer-settings").index(),t=$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+i+") .ksp-layer");t.attr("data-hcolor",e.color.toString()),t.mouseover(function(){$(this).css("color",e.color.toString())})}})}),$(".ksp-admin #ksp-slides .ksp-slides-list .ksp-layer-settings-list .ksp-background-wp-color-picker").each(function(){$(this).wpColorPicker({change:function(s,e){var i=$(this).closest(".ksp-layer-settings").index(),t=$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+i+") .ksp-layer");t.css("background",e.color.toString()),t.mouseout(function(){$(this).css("background",e.color.toString())})}})}),$(".ksp-admin #ksp-slides .ksp-slides-list .ksp-layer-settings-list .ksp-hbackground-wp-color-picker").each(function(){$(this).wpColorPicker({change:function(s,e){var i=$(this).closest(".ksp-layer-settings").index(),t=$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+i+") .ksp-layer");t.attr("data-hbackground-color",e.color.toString()),t.mouseover(function(){$(this).css("background",e.color.toString())})}})}),$(".ksp-admin #ksp-slides .ksp-slides-list .ksp-layer-settings-list .ksp-border-wp-color-picker").each(function(){$(this).wpColorPicker({change:function(s,e){var i=$(this).closest(".ksp-layer-settings").index(),t=$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+i+") .ksp-layer");t.css("border-color",e.color.toString()),t.mouseout(function(){$(this).css("border-color",e.color.toString())})}})}),$(".ksp-admin #ksp-slides .ksp-slides-list .ksp-layer-settings-list .ksp-hborder-wp-color-picker").each(function(){$(this).wpColorPicker({change:function(s,e){var i=$(this).closest(".ksp-layer-settings").index(),t=$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+i+") .ksp-layer");t.attr("data-hborder-color",e.color.toString()),t.mouseover(function(){$(this).css("border-color",e.color.toString())})}})})}function m(s){var e=s.find(".ksp-slide-editing-area"),i=s.find(".ksp-layers .ksp-layers-list .ksp-void-text-layer-settings"),t='<div class="ksp-layer-settings ksp-image-layer-settings">'+$(".ksp-admin .ksp-slide .ksp-layers .ksp-void-image-layer-settings").html()+"</div>";e.append('<div class="ksp-layer-wrap" style="z-index: 1;"><img class="ksp-layer ksp-image-layer" src="" /></div>'),i.before(t),o(),k(e.find(".ksp-layer-wrap").last()),_(s)}function _(s){var e=s.find(".ksp-slide-editing-area"),i=s.find(".ksp-layers .ksp-layers-list .ksp-void-text-layer-settings"),t='<div class="ksp-layer-settings ksp-image-layer-settings">'+$(".ksp-admin .ksp-slide .ksp-layers .ksp-void-image-layer-settings").html()+"</div>",a;if(a)return void a.open();a=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),a.on("select",function(){attachment=a.state().get("selection").first().toJSON();var s=attachment.url,t=attachment.alt,l=attachment.width,r=attachment.height,n=e.find(".ksp-layer-wrap.active .ksp-image-layer").last();n.attr("src",s),n.attr("alt",t),n.css("width",l),n.css("height",r),i.parent().find(".ksp-layer-settings.active .ksp-image-layer-upload-button").data("src",s),i.parent().find(".ksp-layer-settings.active .ksp-image-layer-upload-button").data("alt",t),i.parent().find(".ksp-layer-settings.active .ksp-layer-width").val(l),i.parent().find(".ksp-layer-settings.active .ksp-layer-height").val(r)}),a.open()}function b(){var s=$(document.getElementById("kt_ajax_overlay")),i=$(".ksp-slider #ksp-slider-settings"),t={id:parseInt($(".ksp-save-settings").data("id")),name:i.find("#ksp-title").val(),maxHeight:parseInt(i.find("#ksp-slider-maxHeight").val()),maxWidth:parseInt(i.find("#ksp-slider-maxWidth").val()),fullHeight:parseInt(i.find("#ksp-slider-fullHeight").is(":checked")?1:0),fullWidth:parseInt(i.find("#ksp-slider-fullWidth").is(":checked")?1:0),full_offset:i.find("#ksp-slider-full_offset").val(),responsive:parseInt(i.find("#ksp-slider-responsive").is(":checked")?1:0),autoPlay:parseInt(i.find("#ksp-slider-autoPlay").is(":checked")?1:0),pauseTime:parseInt(i.find("#ksp-slider-pauseTime").val()),enableParallax:parseInt(i.find("#ksp-slider-enableParallax").is(":checked")?1:0),singleSlide:parseInt(i.find("#ksp-slider-singleSlide").is(":checked")?1:0),minHeight:parseInt(i.find("#ksp-slider-minHeight").val()),pauseonHover:parseInt(i.find("#ksp-slider-pauseonHover").is(":checked")?1:0)};s.fadeIn(),jQuery.ajax({type:"POST",dataType:"json",url:ajaxurl,data:{action:$(".ksp-slider").hasClass("ksp-add-slider")?"ksp_addSlider":"ksp_editSlider",datas:t},success:function(s){if(!1!==s){if($(".ksp-slider").hasClass("ksp-add-slider"))return void(window.location.href="?page=kadenceslider&view=layeredit&id="+s);w()}else e()},error:function(s,i,t){alert("Error saving slider"),alert("Status: "+i),alert("Error: "+t),e()}})}function w(){var s=$(".ksp-slider .ksp-slide"),i=0,t={};t.options=new Array,s.each(function(){var s=$(this),e=s.find(".ksp-slide-settings-list"),a={slider_parent:parseInt($(".ksp-admin .ksp-save-settings").data("id")),position:i,background_type_image:"none"==s.find(".ksp-slide-editing-area").css("background-image")?"none":s.find(".ksp-slide-editing-area").data("background-image-src")+"",background_type_color:"0"==e.find('input[name="ksp-slide-background_type_color"]:checked').val()?"transparent":s.find(".ksp-slide-editing-area").css("background-color")+"",background_propriety_position:e.find(".ksp-slide-background_propriety_position").val(),background_repeat:"0"==e.find('input[name="ksp-slide-background_repeat"]:checked').val()?"no-repeat":"repeat",background_propriety_size:e.find(".ksp-slide-background_propriety_size").val(),background_type_video:e.find(".ksp-slide-background_type_video").val(),background_type_video_youtube:e.find(".ksp-slide-background_type_video_youtube").val(),background_type_video_start:parseInt(e.find(".ksp-slide-background_type_video_start").val()),background_type_video_ratio:e.find(".ksp-slide-background_type_video_ratio").val(),background_type_video_mute:parseInt(e.find(".ksp-slider-background_type_video_mute").is(":checked")?1:0),background_type_video_loop:parseInt(e.find(".ksp-slider-background_type_video_loop").is(":checked")?1:0),background_type_video_playpause:parseInt(e.find(".ksp-slider-background_type_video_playpause").is(":checked")?1:0),background_type_video_mp4:e.find(".ksp-slide-background-mp4_source").val(),background_type_video_webm:e.find(".ksp-slide-background-webm_source").val(),background_link:e.find(".ksp-slide-background-link").val(),background_link_new_tab:parseInt(e.find(".ksp-slide-link_new_tab").is(":checked")?1:0)};t.options[i]=a,i++}),t.slider_parent=parseInt($(".ksp-admin .ksp-save-settings").data("id")),jQuery.ajax({type:"POST",dataType:"json",url:ajaxurl,data:{action:"ksp_editSlides",datas:t},success:function(s){!1!==s?x():e()},error:function(s,i,t){alert("Error saving slides"),alert("Status: "+i),alert("Error: "+t),e()}})}function x(){var i=$(".ksp-admin .ksp-slider #ksp-slides .ksp-slide"),t=0,a=0,l={};l.options=new Array,i.each(function(){$(this).find(".ksp-layers .ksp-layer-settings").each(function(){var s=$(this);if(!s.hasClass("ksp-void-layer-settings")){var e;e=s.hasClass("ksp-text-layer-settings")?"text":s.hasClass("ksp-image-layer-settings")?"image":s.hasClass("ksp-button-layer-settings")?"button":"undefined";var i={slider_parent:parseInt($(".ksp-admin .ksp-save-settings").data("id")),slide_parent:t,position:s.index(),type:e,inner_html:s.hasClass("ksp-text-layer-settings")||s.hasClass("ksp-button-layer-settings")?s.find(".ksp-layer-inner_html").val():"",image_src:s.hasClass("ksp-image-layer-settings")?s.find(".ksp-image-layer-upload-button").data("src"):"",image_alt:s.hasClass("ksp-image-layer-settings")?s.find(".ksp-image-layer-upload-button").data("alt"):"",width:s.hasClass("ksp-image-layer-settings")?parseInt(s.find(".ksp-layer-width").val()):"",height:s.hasClass("ksp-image-layer-settings")?parseInt(s.find(".ksp-layer-height").val()):"",font_color:s.hasClass("ksp-text-layer-settings")||s.hasClass("ksp-button-layer-settings")?s.find(".ksp-layer-font_color").val():"",background_color:s.hasClass("ksp-button-layer-settings")?s.find(".ksp-layer-background_color").val():"",border_color:s.hasClass("ksp-button-layer-settings")?s.find(".ksp-layer-border_color").val():"",font_hover_color:s.hasClass("ksp-button-layer-settings")?s.find(".ksp-layer-font_hover_color").val():"",background_hover_color:s.hasClass("ksp-button-layer-settings")?s.find(".ksp-layer-background_hover_color").val():"",border_hover_color:s.hasClass("ksp-button-layer-settings")?s.find(".ksp-layer-border_hover_color").val():"",border_width:s.hasClass("ksp-button-layer-settings")?parseInt(s.find(".ksp-layer-border_width").val()):"",border_radius:s.hasClass("ksp-button-layer-settings")?parseInt(s.find(".ksp-layer-border_radius").val()):"",padding:s.hasClass("ksp-button-layer-settings")?parseInt(s.find(".ksp-layer-padding").val()):"",font_size:s.hasClass("ksp-text-layer-settings")||s.hasClass("ksp-button-layer-settings")?parseInt(s.find(".ksp-layer-font_size").val()):"",line_height:s.hasClass("ksp-text-layer-settings")||s.hasClass("ksp-button-layer-settings")?parseInt(s.find(".ksp-layer-line_height").val()):"",letter_spacing:s.hasClass("ksp-text-layer-settings")||s.hasClass("ksp-button-layer-settings")?parseInt(s.find(".ksp-layer-letter_spacing").val()):"",font:s.hasClass("ksp-text-layer-settings")||s.hasClass("ksp-button-layer-settings")?s.find(".ksp-layer-font").val():"",data_x:parseInt(s.find(".ksp-layer-data_x").val()),data_y:parseInt(s.find(".ksp-layer-data_y").val()),data_delay:parseInt(s.find(".ksp-layer-data_delay").val()),data_in:s.find(".ksp-layer-data_in").val(),data_out:s.find(".ksp-layer-data_out").val(),data_ease:s.find(".ksp-layer-data_ease").val(),link:s.find(".ksp-layer-link").val(),link_new_tab:parseInt(s.find(".ksp-layer-link_new_tab").is(":checked")?1:0),z_index:parseInt(s.find(".ksp-layer-z_index").val()),text_shadow:s.hasClass("ksp-text-layer-settings")?s.find(".ksp-layer-text_shadow").val():"none"};l.options[a]=i,a++}}),t++}),l.layers=1,0==l.options.length&&(l.layers=0),l.slider_parent=parseInt($(".ksp-admin .ksp-save-settings").data("id")),l.options=JSON.stringify(l.options),jQuery.ajax({type:"POST",dataType:"json",url:ajaxurl,data:{action:"ksp_editLayers",datas:l},success:function(i){!1!==i?($(".ksp-admin").trigger("savedSlide"),s()):e()},error:function(s,i,t){alert("Error saving layers"),console.log(s.responseText),e()}})}function q(i){var t={id:parseInt(i.data("delete"))};jQuery.ajax({type:"POST",dataType:"json",url:ajaxurl,data:{action:"ksp_deleteSlider",datas:t},success:function(t){!1!==t?(i.parent().parent().remove(),s()):e()},error:function(s,i,t){alert("Error deleting slider"),alert("Status: "+i),alert("Error: "+t),e()}})}function C(i){var t=$(document.getElementById("kt_ajax_overlay")),a={id:parseInt(i.data("duplicate"))};t.fadeIn(),jQuery.ajax({type:"POST",dataType:"json",url:ajaxurl,data:{action:"ksp_duplicateSlider",datas:a},success:function(t){if(!1!==t.response){var a=i.parent().parent().clone().appendTo(i.parent().parent().parent());a.find(".ksp_column_02").html(t.cloned_slider_id),a.find(".ksp_column_03 a").html(t.cloned_slider_name),a.find(".ksp_column_03 a").attr("href","?page=kadenceslider&view=layeredit&id="+t.cloned_slider_id),a.find(".ksp_column_04").html('[kadence_slider_pro id="'+t.cloned_slider_id+'"]'),a.find(".ksp-edit-slider").attr("href","?page=kadenceslider&view=layeredit&id="+t.cloned_slider_id),a.find(".ksp-duplicate-slider").data("duplicate",t.cloned_slider_id),a.find(".ksp-delete-slider").data("delete",t.cloned_slider_id),a.find(".ksp-export-slider").data("export",t.cloned_slider_id),s()}else e()},error:function(s,i,t){alert("Error duplicating slider"),console.log(s.responseText),e()}})}function S(i){var t=$(document.getElementById("kt_ajax_overlay")),a={id:parseInt(i.data("export"))};t.fadeIn(),jQuery.ajax({type:"POST",dataType:"json",url:ajaxurl,data:{action:"ksp_exportSlider",datas:a},success:function(i){!1!==i.response?(window.location.href=i.url,s()):e()},error:function(s,i,t){alert("Error while exporting the slider"),console.log(s.responseText),e()}})}function I(){var i=$(document.getElementById("kt_ajax_overlay")),t=$("#ksp-import-file")[0].files[0];if(t){$("#ksp-import-file").val("");var a=new FormData;a.append("file",t),a.append("action","ksp_importSlider"),i.fadeIn(),jQuery.ajax({type:"POST",url:ajaxurl,contentType:!1,processData:!1,data:a,success:function(i){if(i=JSON.parse(i),!1!==i.response){var t=$(".ksp-sliders-list .ksp-duplicate-slider:eq(0)");if(t.length>0){var a=t.parent().parent().clone().appendTo(t.parent().parent().parent());a.find(".ksp_column_02").html(i.imported_slider_id),a.find(".ksp_column_03 a").html(i.imported_slider_name),a.find(".ksp_column_03 a").attr("href","?page=ksp&view=layeredit&id="+i.imported_slider_id),a.find(".ksp_column_04").html('[kadence_slider_pro id="'+i.imported_slider_id+'"]'),a.find(".ksp-edit-slider").attr("href","?page=ksp&view=layeredit&id="+i.imported_slider_id),a.find(".ksp-duplicate-slider").data("duplicate",i.imported_slider_id),a.find(".ksp-delete-slider").data("delete",i.imported_slider_id),a.find(".ksp-delete-slider").data("export",i.imported_slider_id)}else location.reload();s()}else e()},error:function(s,i,t){alert("Error while importing the slider"),console.log(s.responseText),e()}})}}o(),$("#ksp-slider-settings .ksp-settings-table #ksp-slider-maxWidth").keyup(function(){l()}),$("#ksp-slider-settings .ksp-settings-table #ksp-slider-maxHeight").keyup(function(){l()}),$("#ksp-slider-settings .ksp-settings-table #ksp-slider-fullHeight").change(function(){$(this).is(":checked")?$(this).closest(".ksp-settings-table").find(".ksp-full-height-offset-row").show():$(this).closest(".ksp-settings-table").find(".ksp-full-height-offset-row").hide()}),i();var j=$(".ksp-admin #ksp-slides .ksp-slide-tabs ul li").length-1,P,T;$(".ksp-slide-tabs .ksp-sortable").sortable({items:"li:not(.kt-ui-disabled)",cancel:".kt-ui-disabled",start:function(s,e){P=$(e.item).index()},update:function(s,e){T=$(e.item).index();var i=$(".ksp-admin #ksp-slides .ksp-slides-list .ksp-slide:eq("+P+")"),t=$(".ksp-admin #ksp-slides .ksp-slides-list .ksp-slide:eq("+T+")");P<T?i.insertAfter(t):i.insertBefore(t),$(".ksp-admin #ksp-slides .ksp-slide-tabs ul li").each(function(){var s=$(this);s.find("a").hasClass("ksp-add-new")||s.find("a").text(ksp_translations.slide+(s.index()+1))})}}),$(".ksp-slide-tabs .ksp-sortable li").disableSelection(),$(".ksp-admin #ksp-slides .ksp-slide-tabs ul li a").live("click",function(){if($(this).parent().index()!=j){$(".ksp-admin #ksp-slides .ksp-slides-list .ksp-slide").css("display","none");var s=$(this).parent().index();$(".ksp-admin #ksp-slides .ksp-slides-list .ksp-slide:eq("+s+")").css("display","block"),$(".ksp-admin #ksp-slides .ksp-slide-tabs ul li").removeClass("active"),$(this).parent().addClass("active")}}),$(".ksp-slide-background_type_video").change(function(){var s=$("option:selected",this),e=this.value;"youtube"==e?($(this).closest(".ksp-slide-settings-list").find(".ksp-video-options-row").show(),$(this).closest(".ksp-slide-settings-list").find(".ksp-video-html5-options-row").hide(),$(this).closest(".ksp-slide-settings-list").find(".ksp-video-youtube-options-row").show()):"html5"==e?($(this).closest(".ksp-slide-settings-list").find(".ksp-video-options-row").show(),$(this).closest(".ksp-slide-settings-list").find(".ksp-video-html5-options-row").show(),$(this).closest(".ksp-slide-settings-list").find(".ksp-video-youtube-options-row").hide()):($(this).closest(".ksp-slide-settings-list").find(".ksp-video-html5-options-row").hide(),$(this).closest(".ksp-slide-settings-list").find(".ksp-video-youtube-options-row").hide(),$(this).closest(".ksp-slide-settings-list").find(".ksp-video-options-row").hide())}),t(),$(".ksp-admin #ksp-slides .ksp-add-new").click(function(){a()}),0==j?a():$(".ksp-admin #ksp-slides .ksp-slide-tabs ul li").eq(0).find("a").click(),$(".ksp-admin #ksp-slides .ksp-slide-tabs ul li .ksp-close").live("click",function(){
if($(".ksp-admin #ksp-slides .ksp-slide-tabs ul li").length<=2)return void alert(ksp_translations.slide_delete_just_one);if(window.confirm(ksp_translations.slide_delete_confirm)){j--;var s=$(this).parent().index();$(".ksp-admin #ksp-slides .ksp-slide-tabs ul li").eq(s).hasClass("active")&&0!=j&&($(".ksp-admin #ksp-slides .ksp-slide-tabs ul li").eq(0).addClass("active"),$(".ksp-admin #ksp-slides .ksp-slides-list .ksp-slide").css("display","none"),$(".ksp-admin #ksp-slides .ksp-slides-list .ksp-slide").eq(0).css("display","block")),$(this).parent().remove(),$(".ksp-admin #ksp-slides .ksp-slides-list .ksp-slide").eq(s).remove();for(var e=s;e<j;e++){var i=$(".ksp-admin #ksp-slides .ksp-slide-tabs ul li").eq(e),t=parseInt(i.find(".ksp-slide-index").text());i.find(".ksp-slide-index").text(t-1)}}}),$(".ksp-admin #ksp-slides .ksp-slide-tabs > ul > li .ksp-duplicate").live("click",function(){var s=$(this).parent().index(),e=$(".ksp-admin #ksp-slides .ksp-slides-list .ksp-slide").eq(s);e.ksp_betterClone(!0).appendTo(e.parent()).css("display","none"),$(this).parent().parent().find(".ksp-add-new").parent().before('<li class="kt-ui-default"><a>'+ksp_translations.slide+' <span class="ksp-slide-index">'+(j+1)+'</span></a><span class="ksp-duplicate"></span><span class="ksp-close"></span></li>'),$(".ksp-admin #ksp-slides .ksp-slide-tab").tabs("refresh"),j++,b(),$(".ksp-admin").on("savedSlide",function(){location.reload()})}),r(),$(".ksp-admin #ksp-slides").on("change",'.ksp-slides-list .ksp-slide-settings-list input[name="ksp-slide-background_type_color"]:radio',function(){var s=$(this),e=s.closest(".ksp-slide").find(".ksp-layers .ksp-slide-editing-area");if("0"==s.val())e.css("background-color","#fff");else{var i=s.closest(".ksp-content").find(".wp-color-result").css("background-color");e.css("background-color",i)}}),$(".ksp-admin #ksp-slides").on("change",'.ksp-slides-list .ksp-slide-settings-list input[name="ksp-slide-background_type_image"]:radio',function(){var s=$(this),e=s.closest(".ksp-slide").find(".ksp-slide-editing-area");if("0"==s.val())e.css("background-image","none");else{n($(this).closest(".ksp-slide"))}}),$(".ksp-admin #ksp-slides").on("click",".ksp-slides-list .ksp-slide-settings-list .ksp-slide-background_type_image-upload-button",function(){"1"==$(this).closest(".ksp-content").find('input[name="ksp-slide-background_type_image"]:checked').val()&&n($(this).closest(".ksp-slide"))}),$(".ksp-admin #ksp-slides").on("click",".ksp-slides-list .ksp-slide-settings-list .ksp-slide-background_type_mp4-upload-button",function(){p($(this).closest(".ksp-slide"))}),$(".ksp-admin #ksp-slides").on("click",".ksp-slides-list .ksp-slide-settings-list .ksp-slide-background_type_webm-upload-button",function(){d($(this).closest(".ksp-slide"))}),$(".ksp-admin #ksp-slides").on("change",'.ksp-slides-list .ksp-slide-settings-list input[name="ksp-slide-background_repeat"]:radio',function(){var s=$(this),e=s.closest(".ksp-slide").find(".ksp-layers .ksp-slide-editing-area");"0"==s.val()?e.css("background-repeat","no-repeat"):e.css("background-repeat","repeat")}),$(".ksp-admin #ksp-slides").on("change",".ksp-slides-list .ksp-slide-settings-list .ksp-slide-background_propriety_position",function(){var s=$(this).val();$(this).closest(".ksp-slide").find(".ksp-layers .ksp-slide-editing-area").css("background-position",s)}),$(".ksp-admin #ksp-slides").on("change",".ksp-slides-list .ksp-slide-settings-list .ksp-slide-background_propriety_size",function(){var s=$(this).val();$(this).closest(".ksp-slide").find(".ksp-layers .ksp-slide-editing-area").css("background-size",s)}),$(".ksp-admin #ksp-slides").on("click",".ksp-slide .ksp-layers .ksp-slide-editing-area .ksp-layer-wrap",function(s){s.stopPropagation(),s.preventDefault(),k($(this))}),$(".ksp-admin").on("click",".ksp-slide .ksp-layers .ksp-slide-editing-area",function(){c()}),$(".ksp-admin #ksp-slides").on("click",".ksp-slide .ksp-layers .ksp-layers-actions .ksp-delete-layer",function(){if(!$(this).hasClass(".ksp-is-disabled")){y($(this).closest(".ksp-slide").find(".ksp-layers .ksp-slide-editing-area .ksp-layer-wrap.active"))}}),u(),$(".ksp-admin #ksp-slides").on("click",".ksp-slide .ksp-layers .ksp-layers-actions .ksp-duplicate-layer",function(){if(!$(this).hasClass(".ksp-is-disabled")){g($(this).closest(".ksp-slide").find(".ksp-layers .ksp-slide-editing-area .ksp-layer-wrap.active"))}}),$(".ksp-admin").on("keyup mouseup",".ksp-layers .ksp-layers-list .ksp-layer-settings .ksp-layer-data_x",function(){var s=$(this).closest(".ksp-layer-settings").index();$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+")").css("left",parseFloat($(this).val()))}),$(".ksp-admin").on("click",".ksp-layers .ksp-layers-list .ksp-layer-settings .ksp-layer-center-x",function(){var s=$(this).closest(".ksp-layer-settings").index(),e=parseInt($("#ksp-slider-settings .ksp-settings-table #ksp-slider-maxWidth").val()/2-parseFloat($(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+")").width())/2);$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+")").css("left",e),$(this).closest(".ksp-layers").find(".ksp-layers-list .ksp-layer-settings:eq("+s+") .ksp-layer-data_x").val(e)}),$(".ksp-admin").on("keyup mouseup",".ksp-layers .ksp-layers-list .ksp-layer-settings .ksp-layer-data_y",function(){var s=$(this).closest(".ksp-layer-settings").index();$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+")").css("top",parseFloat($(this).val()))}),$(".ksp-admin").on("click",".ksp-layers .ksp-layers-list .ksp-layer-settings .ksp-layer-center-y",function(){var s=$(this).closest(".ksp-layer-settings").index(),e=parseInt($("#ksp-slider-settings .ksp-settings-table #ksp-slider-maxHeight").val()/2-parseFloat($(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+")").height())/2);$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+")").css("top",e),$(this).closest(".ksp-layers").find(".ksp-layers-list .ksp-layer-settings:eq("+s+") .ksp-layer-data_y").val(e)}),$(".ksp-admin").on("keyup mouseup",".ksp-layers .ksp-layers-list .ksp-layer-settings .ksp-layer-z_index",function(){var s=$(this).closest(".ksp-layer-settings").index();$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+")").css("z-index",parseFloat($(this).val()))}),$(".ksp-admin").on("keyup mouseup",".ksp-layers .ksp-layers-list .ksp-layer-settings .ksp-layer-font_size",function(){var s=$(this).closest(".ksp-layer-settings").index();$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").css("font-size",parseFloat($(this).val()))}),$(".ksp-admin").on("keyup mouseup",".ksp-layers .ksp-layers-list .ksp-layer-settings .ksp-layer-line_height",function(){var s=$(this).closest(".ksp-layer-settings").index();$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").css("line-height",parseFloat($(this).val())+"px")}),$(".ksp-admin").on("keyup mouseup",".ksp-layers .ksp-layers-list .ksp-layer-settings .ksp-layer-letter_spacing",function(){var s=$(this).closest(".ksp-layer-settings").index();$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").css("letter-spacing",parseFloat($(this).val())+"px")}),$(".ksp-admin").on("change",".ksp-layers .ksp-layers-list .ksp-layer-settings .ksp-layer-font",function(){var s=$(this).closest(".ksp-layer-settings").index();$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").css("font-family",$(this).find(":selected").data("family")),$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").css("font-weight",parseFloat($(this).find(":selected").data("weight"))),$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").css("font-style",$(this).find(":selected").data("style"))}),$(".ksp-admin").on("change",".ksp-layers .ksp-layers-list .ksp-layer-settings .ksp-layer-text_shadow",function(){var s=$(this).closest(".ksp-layer-settings").index();$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").removeClass(function(s,e){return(e.match(/(^|\s)kt-t-shadow\S+/g)||[]).join(" ")}),$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").addClass("kt-t-shadow-"+$(this).val())}),$(".ksp-admin #ksp-slides").on("click",".ksp-slide .ksp-layers .ksp-layers-actions .ksp-add-text-layer",function(){f($(this).closest(".ksp-slide"))}),$(".ksp-admin").on("keyup",".ksp-layers .ksp-layers-list .ksp-layer-settings .ksp-layer-inner_html",function(){var s=$(this).closest(".ksp-layer-settings").index(),e=$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer");e.is("a")?e.find("> div").html($(this).val()):e.html($(this).val())}),$(".ksp-admin #ksp-slides").on("click",".ksp-slide .ksp-layers .ksp-layers-actions .ksp-add-button-layer",function(){h($(this).closest(".ksp-slide"))}),v(),$(".ksp-admin").on("keyup mouseup",".ksp-layers .ksp-layers-list .ksp-layer-settings .ksp-layer-border_width",function(){var s=$(this).closest(".ksp-layer-settings").index();$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").css("border",parseFloat($(this).val())+"px solid")}),$(".ksp-admin").on("keyup mouseup",".ksp-layers .ksp-layers-list .ksp-layer-settings .ksp-layer-border_radius",function(){var s=$(this).closest(".ksp-layer-settings").index();$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").css("border-radius",parseFloat($(this).val())+"px")}),$(".ksp-admin").on("keyup mouseup",".ksp-layers .ksp-layers-list .ksp-layer-settings .ksp-layer-padding",function(){var s=$(this).closest(".ksp-layer-settings").index();$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").css("padding-left",parseFloat($(this).val())+"px"),$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").css("padding-right",parseFloat($(this).val())+"px")}),$(".ksp-button-layer").each(function(){$(this).mouseover(function(){$(this).css("color",$(this).data("hcolor")),$(this).css("border-color",$(this).data("hborder-color")),$(this).css("background",$(this).data("hbackground-color"))}),$(this).mouseout(function(){$(this).css("color",$(this).data("color")),$(this).css("border-color",$(this).data("border-color")),$(this).css("background",$(this).data("background-color"))})}),$(".ksp-admin #ksp-slides").on("click",".ksp-slide .ksp-layers .ksp-layers-actions .ksp-add-image-layer",function(){m($(this).closest(".ksp-slide"))}),$(".ksp-admin").on("click",".ksp-layers .ksp-layers-list .ksp-image-layer-settings .ksp-image-layer-upload-button",function(){_($(this).closest(".ksp-slide"))}),$(".ksp-admin").on("keyup mouseup",".ksp-layers .ksp-layers-list .ksp-layer-settings .ksp-layer-height",function(){var s=$(this).closest(".ksp-layer-settings").index(),e=$(this).closest(".ksp-layer-settings");$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").css("height",parseFloat($(this).val())+"px"),$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").css("width","auto");var i=$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").width();$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").css("width",i),e.find(".ksp-layer-width").val(i)}),$(".ksp-admin").on("keyup mouseup",".ksp-layers .ksp-layers-list .ksp-layer-settings .ksp-layer-width",function(){var s=$(this).closest(".ksp-layer-settings").index(),e=$(this).closest(".ksp-layer-settings");$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").css("width",parseFloat($(this).val())+"px"),$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").css("height","auto");var i=$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").height();$(this).closest(".ksp-layers").find(".ksp-slide-editing-area .ksp-layer-wrap:eq("+s+") .ksp-layer").css("height",i),e.find(".ksp-layer-height").val(i)}),$(".ksp-admin .ksp-save-settings").click(function(s){b(),s.preventDefault()}),$(".ksp-admin .ksp-base .ksp-sliders-list .ksp-delete-slider").click(function(){window.confirm(ksp_translations.slider_delete_confirm)&&q($(this))}),$(".ksp-admin .ksp-base").on("click",".ksp-sliders-list .ksp-duplicate-slider",function(){C($(this))}),$(".ksp-admin .ksp-base").on("click",".ksp-sliders-list .ksp-export-slider",function(){S($(this))}),$(".ksp-admin .ksp-base").on("click",".ksp-import-slider",function(){$("#ksp-import-file").trigger("click")}),$(".ksp-admin .ksp-base").on("change","#ksp-import-file",function(){I()}),$(".ksp-live-preview").magnificPopup({type:"iframe",closeOnContentClick:!1,iframe:{markup:'<div class="mfp-iframe-preview"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div>'}})})}(jQuery);