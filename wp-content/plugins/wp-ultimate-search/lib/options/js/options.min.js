jQuery(document).ready(function(e){function r(){var e=document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0);window.dispatchEvent(e)}e(".warning").change(function(){e(this).is(":checked")?e(this).parent().css("background","#c00").css("color","#fff").css("fontWeight","bold"):e(this).parent().css("background","none").css("color","inherit").css("fontWeight","normal")});var t=window.location.hash;t&&e('ul.nav a[href="'+t+'"]').tab("show");e('a[data-toggle="tab"]').on("shown.bs.tab",function(t){var r=e("body").scrollTop();window.location.hash=t.target.hash;e("html,body").scrollTop(r);e(".code_text").each(function(e){n[e].refresh()})});var n=new Array;e(".code_text").each(function(t){var r=jQuery(this).attr("data-lang");switch(r){case"php":r="application/x-httpd-php";break;case"css":r="text/css";break;case"html":r="text/html";break;case"javascript":r="text/javascript";break;default:r="application/x-httpd-php"}var i=e(this).attr("data-theme");switch(i){case"default":i="default";break;case"dark":i="twilight";break;default:i="default"}n[t]=CodeMirror.fromTextArea(this,{lineNumbers:!0,mode:r,indentUnit:4,indentWithTabs:!0});n[t].setOption("theme",i)});e(".fileinput-field .btn-file").bind("click",function(t){tb_show("","media-upload.php?post_id=0&type=image&apc=apc&TB_iframe=true");var n=e(this);window.restore_send_to_editor=window.send_to_editor;window.send_to_editor=function(t){imgurl=e("img",t).attr("src");var r=imgurl.lastIndexOf("/")+1,i=imgurl.substr(r);n.find(".fileinput-input").val(imgurl);n.prev().find(".fileinput-filename").text(i);n.parent().parent().removeClass("fileinput-new").addClass("fileinput-exists");n.parent().parent().find(".fileinput-preview").html("<img src='"+imgurl+"'>");tb_remove();window.send_to_editor=window.restore_send_to_editor};return!1});e(".fileinput-field .btn.fileinput-exists").bind("click",function(t){e(this).parent().parent().removeClass("fileinput-exists").addClass("fileinput-new");e(this).prev().find(".fileinput-input").val("");e(this).prev().prev().find(".fileinput-filename").text("")})});