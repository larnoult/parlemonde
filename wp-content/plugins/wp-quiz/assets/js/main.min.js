/*
 * WP Quiz Plugin by MyThemeShop
 * https://mythemeshop.com/plugins/wp-quiz/
*/
!function(t){"use strict";var e;(e=t("#fb-root")).length>0?t("body").prepend(e):t("body").prepend('<div id="fb-root"/>'),"function"==typeof t.fn.flip&&t(".wq_IsFlip .card").flip(),t(document).on("click",".wq_btn-continue",function(e){e.preventDefault();var a=t(this).closest(".wq_quizCtr"),n=parseInt(a.data("current-question")),i=a.find(".wq_questionsCtr > .wq_singleQuestionWrapper").eq(n),s=parseInt(a.data("questions")),r=parseInt(a.data("questions-answered")),o=parseInt(r/s*100);i.next().length&&(i.transition({animation:a.data("transition_out"),onComplete:function(){i.hide(),i.next().transition({animation:a.data("transition_in")}),a.data("current-question",n+1)}}),a.find(".wq_quizProgressValue").animate({width:o+"%"}).text(o+"%"),1===parseInt(a.data("auto-scroll"))&&t("html, body").animate({scrollTop:a.offset().top-35},750))}),t(document).on("click",".wq_retakeQuizBtn",function(e){e.preventDefault();var a=t(this).closest(".wq_quizCtr"),n=a.data("transition_in"),i=a.data("transition_out"),s=a.data("question-layout");a.data("current-question",0),a.data("questions-answered",0),a.data("correct-answered",0),a.find(".wq_quizProgressValue").animate({width:"0%"}).text(""),a.find(".wq_questionsCtr > .wq_singleQuestionWrapper").each(function(){var e=t(this);e.find(".wq_triviaQuestionExplanation").removeClass("transition visible"),e.find(".wq_triviaQuestionExplanation").hide(),e.find(".wq_singleAnswerCtr").removeClass("wq_incorrectAnswer wq_correctAnswer chosen wq_answerSelected"),e.find(".wq_ExplanationHead").removeClass("wq_correctExplanationHead wq_wrongExplanationHead"),e.data("question-answered",1),e.removeClass("wq_questionAnswered")}),a.find(".wq_singleResultWrapper, .wq_singleResultRow").data("points",0),a.find(".wq_questionsCtr").show(),a.find(".wq_singleResultWrapper.transition.visible").transition({animation:i,onComplete:function(){a.find(".wq_singleResultWrapper").hide(),"multiple"===s&&a.find(".wq_questionsCtr > .wq_singleQuestionWrapper:last").transition({animation:i,onComplete:function(){a.find(".wq_questionsCtr > .wq_singleQuestionWrapper:eq(0)").transition({animation:n})}}),a.find(".wq_singleResultWrapper, .wq_resultsTable, .wq_shareResultCtr, .wq_resultsCtr, .wq_quizEmailCtr, .wq_quizForceShareCtr, .wq_retakeQuizBtn, .wq_retakeQuizCtr").removeClass("transition hidden visible"),a.find(".wq_resultExplanation, .wq_quizEmailCtr, .wq_quizForceShareCtr, .wq_retakeQuizBtn").hide()}}),t("html, body").animate({scrollTop:a.offset().top-35},750),t(this).removeClass("transition visible").hide()}),t(document).on("click",".wq_shareFB",function(e){e.preventDefault();var a,n=t(this).closest(".wq_quizCtr"),i=n.data("share-url")?n.data("share-url"):document.referrer,s=n.find(".wq_singleResultWrapper:visible"),r=s.find(".wq_resultDesc").text(),o=s.find(".wq_resultImg").attr("src");if(s.hasClass("wq_IsTrivia")){var d=parseInt(n.data("correct-answered")),l=parseInt(n.data("questions"));a=wq_l10n.captionTriviaFB.replace("%%score%%",d).replace("%%total%%",l)}else a=s.hasClass("wq_IsPersonality")?s.find(".wq_resultTitle").data("title"):n.data("post-title");var u={id:parseInt(n.data("quiz-pid")),rid:parseInt(s.data("id")),pic:o?"r":"f",text:a,desc:r?"r":"e",ts:Date.now()};u=t.param(u),FB.ui({method:"share",href:i+"?fbs=1&"+u},function(){})}),t(document).on("click",".wq_shareTwitter",function(e){e.preventDefault();var a=t(this).closest(".wq_quizCtr"),n=a.data("share-url")?a.data("share-url"):document.referrer,i=a.find(".wq_singleResultWrapper:visible"),s=i.find(".wq_resultDesc").text(),r=i.find(".wq_resultImg").attr("src"),o="";if(i.hasClass("wq_IsTrivia")){var d=parseInt(a.data("correct-answered")),l=parseInt(a.data("questions"));o=wq_l10n.captionTriviaFB.replace("%%score%%",d).replace("%%total%%",l)}else o=i.hasClass("wq_IsPersonality")?i.find(".wq_resultTitle").data("title"):a.data("post-title");var u={id:parseInt(a.data("quiz-pid")),rid:parseInt(i.data("id")),pic:r?"r":"f",desc:s?"r":"e",text:o};u=t.param(u),window.open("https://twitter.com/share?url="+encodeURIComponent(n+"?fbs=1&"+u),"_blank","width=500, height=300")}),t(document).on("click",".wq_shareGP",function(e){e.preventDefault();var a=t(this).closest(".wq_quizCtr"),n=a.data("share-url")?a.data("share-url"):document.referrer,i=a.find(".wq_singleResultWrapper:visible"),s=i.find(".wq_resultDesc").text(),r=i.find(".wq_resultImg").attr("src"),o="";if(i.hasClass("wq_IsTrivia")){var d=parseInt(a.data("correct-answered")),l=parseInt(a.data("questions"));o=wq_l10n.captionTriviaFB.replace("%%score%%",d).replace("%%total%%",l)}else o=i.hasClass("wq_IsPersonality")?i.find(".wq_resultTitle").data("title"):a.data("post-title");var u={id:parseInt(a.data("quiz-pid")),rid:parseInt(i.data("id")),pic:r?"r":"f",desc:s?"r":"e",text:o};u=t.param(u),window.open("https://plus.google.com/share?url="+encodeURIComponent(n+"?fbs=1&"+u),"_blank","width=500, height=300")}),t(document).on("click",".wq_shareVK",function(e){e.preventDefault();var a=t(this).closest(".wq_quizCtr"),n=a.data("share-url")?a.data("share-url"):document.referrer;window.open("http://vk.com/share.php?url="+n,"_blank","width=500, height=300")}),t(document).ready(function(){function e(e){t(".wq_IsFlip .back").each(function(){var a=t(this),n=a.find("img").attr("src"),i=t(this).siblings(".item_top").height();if(a.css("top",i+"px"),""===n&&(a.siblings(".front").find("img").on("load",function(){a.find(".desc").height(t(this).height())}),"resize"===e.type)){var s=a.siblings(".front").find("img").height();a.find(".desc").height(s)}})}t(document).on("ready",e),t(window).on("resize",e),t(window).trigger("resize")}),t(document).on("click",".wq_singleQuestionWrapper:not(.wq_questionAnswered) .wq_singleAnswerCtr.wq_IsTrivia",function(e){e.preventDefault();var a=t(this),n=a.closest(".wq_singleQuestionWrapper"),i=a.closest(".wq_quizCtr"),s=parseInt(i.data("questions")),r=parseInt(i.data("questions-answered"))+1,o=parseInt(i.data("correct-answered")),d=parseInt(i.data("current-question")),l=i.data("question-layout");if(n.addClass("wq_questionAnswered"),1===parseInt(a.data("crt"))?(o++,a.addClass("wq_correctAnswer chosen"),n.find(".wq_triviaQuestionExplanation .wq_ExplanationHead").text(wq_l10n.correct).addClass("wq_correctExplanationHead"),i.data("correct-answered",o)):(n.find(".wq_singleAnswerCtr").each(function(){1===t(this).data("crt")&&t(this).addClass("wq_correctAnswer")}),a.addClass("wq_incorrectAnswer chosen"),n.find(".wq_triviaQuestionExplanation .wq_ExplanationHead").text(wq_l10n.wrong).addClass("wq_wrongExplanationHead")),"single"===l?(d=parseInt(i.data("current-question")),i.data("current-question",d+1)):n.find(".wq_continue").show(),i.data("questions-answered",r),n.find(".wq_triviaQuestionExplanation").show(),1===parseInt(i.data("auto-scroll"))&&t("html, body").animate({scrollTop:n.find(".wq_triviaQuestionExplanation").offset().top-35},750),s===r)return i.find(".wq_quizProgressValue").animate({width:"100%"}).text("100%"),void function(e){var a=e.data("transition_in"),n=parseInt(e.data("correct-answered")),i=parseInt(e.data("questions")),s=parseInt(e.data("retake-quiz"));e.find(".wq_continue").hide();var r=!1;e.find(".wq_singleResultWrapper").each(function(){var e=t(this),s=parseInt(e.data("min")),o=parseInt(e.data("max"));if(n>=s&&n<=o&&!r){r=!0;var d=wq_l10n.captionTrivia.replace("%%score%%",n).replace("%%total%%",i);return e.find(".wq_resultScoreCtr").text(d),void e.transition({animation:a})}}),s&&e.find(".wq_retakeQuizBtn").transition({animation:a})}(i)}),t(document).on("click",".wq_singleQuestionWrapper:not(.wq_questionAnswered) .wq_singleAnswerCtr.wq_IsPersonality",function(e){e.preventDefault();var a=t(this),n=a.closest(".wq_quizCtr"),i=JSON.parse(a.find(".wq_singleAnswerResultCtr").val()),s=a.closest(".wq_singleQuestionWrapper"),r=parseInt(n.data("questions-answered")),o=parseInt(n.data("questions")),d=n.data("transition_in"),l=parseInt(n.data("retake-quiz")),u=n.data("question-layout"),w=parseInt(n.data("auto-scroll"));if(s.addClass("wq_questionAnswered"),s.find(".wq_singleAnswerCtr.wq_answerSelected").each(function(){var e=JSON.parse(t(this).find(".wq_singleAnswerResultCtr").val());""!==e&&e.forEach(function(t,e,a){var i=n.find('.wq_singleResultWrapper[data-rid="'+e+'"]'),s=parseInt(i.data("points"))-parseInt(t.points);i.data("points",s)})}),""!==i&&i.forEach(function(t,e,a){var i=n.find('.wq_singleResultWrapper[data-rid="'+e+'"]'),s=parseInt(i.data("points"))+parseInt(t.points);i.data("points",s)}),1===parseInt(s.data("question-answered"))&&(r++,s.data("question-answered",2),n.data("questions-answered",r)),a.addClass("wq_answerSelected"),"single"===u){var q=parseInt(n.data("current-question"));n.data("current-question",q+1),s.next().length&&1===w&&t("html, body").animate({scrollTop:s.next().offset().top-75},750)}else s.find(".wq_btn-continue").trigger("click");if(o===r){n.find(".wq_quizProgressValue").animate({width:"100%"}).text("100%"),t("html, body").animate({scrollTop:n.find(".wq_resultsCtr").offset().top-75},750);var c=null,p=0;n.find(".wq_singleResultWrapper").each(function(){var e=parseInt(t(this).data("points"));e>p&&(p=e,c=t(this))}),c.transition({animation:d}),l&&n.find(".wq_retakeQuizBtn").transition({animation:d})}})}(jQuery);
