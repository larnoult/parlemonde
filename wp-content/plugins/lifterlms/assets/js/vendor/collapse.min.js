!function(l){"use strict";var o=function(t,e){this.$element=l(t),this.options=l.extend({},o.DEFAULTS,e),this.$trigger=l('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function i(t){var e,a=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return l(a)}function r(s){return this.each(function(){var t=l(this),e=t.data("bs.collapse"),a=l.extend({},o.DEFAULTS,t.data(),"object"==typeof s&&s);!e&&a.toggle&&/show|hide/.test(s)&&(a.toggle=!1),e||t.data("bs.collapse",e=new o(this,a)),"string"==typeof s&&e[s]()})}o.VERSION="3.3.5",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var a=l.Event("show.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){e&&e.length&&(r.call(e,"hide"),t||e.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var i=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!l.support.transition)return i.call(this);var n=l.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",l.proxy(i,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[s](this.$element[0][n])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=l.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!l.support.transition)return a.call(this);this.$element[e](0).one("bsTransitionEnd",l.proxy(a,this)).emulateTransitionEnd(o.TRANSITION_DURATION)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return l(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(l.proxy(function(t,e){var a=l(e);this.addAriaAndCollapsedClass(i(a),a)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(t,e){var a=t.hasClass("in");t.attr("aria-expanded",a),e.toggleClass("collapsed",!a).attr("aria-expanded",a)};var t=l.fn.collapse;l.fn.collapse=r,l.fn.collapse.Constructor=o,l.fn.collapse.noConflict=function(){return l.fn.collapse=t,this},l(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=l(this);e.attr("data-target")||t.preventDefault();var a=i(e),s=a.data("bs.collapse")?"toggle":e.data();r.call(a,s)})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvci9jb2xsYXBzZS5qcyJdLCJuYW1lcyI6WyIkIiwiQ29sbGFwc2UiLCJlbGVtZW50Iiwib3B0aW9ucyIsInRoaXMiLCIkZWxlbWVudCIsImV4dGVuZCIsIkRFRkFVTFRTIiwiJHRyaWdnZXIiLCJpZCIsInRyYW5zaXRpb25pbmciLCJwYXJlbnQiLCIkcGFyZW50IiwiZ2V0UGFyZW50IiwiYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzIiwidG9nZ2xlIiwiZ2V0VGFyZ2V0RnJvbVRyaWdnZXIiLCJocmVmIiwidGFyZ2V0IiwiYXR0ciIsInJlcGxhY2UiLCJQbHVnaW4iLCJvcHRpb24iLCJlYWNoIiwiJHRoaXMiLCJkYXRhIiwidGVzdCIsIlZFUlNJT04iLCJUUkFOU0lUSU9OX0RVUkFUSU9OIiwicHJvdG90eXBlIiwiZGltZW5zaW9uIiwiaGFzQ2xhc3MiLCJzaG93IiwiYWN0aXZlc0RhdGEiLCJhY3RpdmVzIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJzdGFydEV2ZW50IiwiRXZlbnQiLCJ0cmlnZ2VyIiwiaXNEZWZhdWx0UHJldmVudGVkIiwiY2FsbCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJjb21wbGV0ZSIsInN1cHBvcnQiLCJ0cmFuc2l0aW9uIiwic2Nyb2xsU2l6ZSIsImNhbWVsQ2FzZSIsImpvaW4iLCJvbmUiLCJwcm94eSIsImVtdWxhdGVUcmFuc2l0aW9uRW5kIiwiaGlkZSIsIm9mZnNldEhlaWdodCIsImZpbmQiLCJpIiwiZW5kIiwiaXNPcGVuIiwidG9nZ2xlQ2xhc3MiLCJvbGQiLCJmbiIsImNvbGxhcHNlIiwiQ29uc3RydWN0b3IiLCJub0NvbmZsaWN0IiwiZG9jdW1lbnQiLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIiR0YXJnZXQiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJDQVNDLFNBQVVBLEdBQ1QsYUFLQSxJQUFJQyxFQUFXLFNBQVVDLEVBQVNDLEdBQ2hDQyxLQUFLQyxTQUFnQkwsRUFBRUUsR0FDdkJFLEtBQUtELFFB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LEVBQzVCckIsRUFBRTZELEdBQUdDLFNBQVNDLFlBQWM5RCxFQU01QkQsRUFBRTZELEdBQUdDLFNBQVNFLFdBQWEsV0FFekIsT0FEQWhFLEVBQUU2RCxHQUFHQyxTQUFXRixFQUNUeEQsTUFPVEosRUFBRWlFLFVBQVVDLEdBQUcsNkJBQThCLDJCQUE0QixTQUFVQyxHQUNqRixJQUFJM0MsRUFBVXhCLEVBQUVJLE1BRVhvQixFQUFNTCxLQUFLLGdCQUFnQmdELEVBQUVDLGlCQUVsQyxJQUFJQyxFQUFVckQsRUFBcUJRLEdBRS9CRixFQURVK0MsRUFBUTVDLEtBQUssZUFDTixTQUFXRCxFQUFNQyxPQUV0Q0osRUFBT29CLEtBQUs0QixFQUFTL0MsS0F0TXhCLENBeU1DZ0QiLCJmaWxlIjoidmVuZG9yL2NvbGxhcHNlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBjb2xsYXBzZS5qcyB2My4zLjVcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2NvbGxhcHNlXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ09MTEFQU0UgUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQ29sbGFwc2UgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICAgICAgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy4kdHJpZ2dlciAgICAgID0gJCgnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1baHJlZj1cIiMnICsgZWxlbWVudC5pZCArICdcIl0sJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1bZGF0YS10YXJnZXQ9XCIjJyArIGVsZW1lbnQuaWQgKyAnXCJdJylcbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSBudWxsXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnBhcmVudCkge1xuICAgICAgdGhpcy4kcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLiRlbGVtZW50LCB0aGlzLiR0cmlnZ2VyKVxuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMudG9nZ2xlKSB0aGlzLnRvZ2dsZSgpXG4gIH1cblxuICBDb2xsYXBzZS5WRVJTSU9OICA9ICczLjMuNSdcblxuICBDb2xsYXBzZS5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMzUwXG5cbiAgQ29sbGFwc2UuREVGQVVMVFMgPSB7XG4gICAgdG9nZ2xlOiB0cnVlXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuZGltZW5zaW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBoYXNXaWR0aCA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3dpZHRoJylcbiAgICByZXR1cm4gaGFzV2lkdGggPyAnd2lkdGgnIDogJ2hlaWdodCdcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSkgcmV0dXJuXG5cbiAgICB2YXIgYWN0aXZlc0RhdGFcbiAgICB2YXIgYWN0aXZlcyA9IHRoaXMuJHBhcmVudCAmJiB0aGlzLiRwYXJlbnQuY2hpbGRyZW4oJy5wYW5lbCcpLmNoaWxkcmVuKCcuaW4sIC5jb2xsYXBzaW5nJylcblxuICAgIGlmIChhY3RpdmVzICYmIGFjdGl2ZXMubGVuZ3RoKSB7XG4gICAgICBhY3RpdmVzRGF0YSA9IGFjdGl2ZXMuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgaWYgKGFjdGl2ZXNEYXRhICYmIGFjdGl2ZXNEYXRhLnRyYW5zaXRpb25pbmcpIHJldHVyblxuICAgIH1cblxuICAgIHZhciBzdGFydEV2ZW50ID0gJC5FdmVudCgnc2hvdy5icy5jb2xsYXBzZScpXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHN0YXJ0RXZlbnQpXG4gICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgIFBsdWdpbi5jYWxsKGFjdGl2ZXMsICdoaWRlJylcbiAgICAgIGFjdGl2ZXNEYXRhIHx8IGFjdGl2ZXMuZGF0YSgnYnMuY29sbGFwc2UnLCBudWxsKVxuICAgIH1cblxuICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpW2RpbWVuc2lvbl0oMClcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcblxuICAgIHRoaXMuJHRyaWdnZXJcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2VkJylcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcblxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDFcblxuICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZSBpbicpW2RpbWVuc2lvbl0oJycpXG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC50cmlnZ2VyKCdzaG93bi5icy5jb2xsYXBzZScpXG4gICAgfVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuIGNvbXBsZXRlLmNhbGwodGhpcylcblxuICAgIHZhciBzY3JvbGxTaXplID0gJC5jYW1lbENhc2UoWydzY3JvbGwnLCBkaW1lbnNpb25dLmpvaW4oJy0nKSlcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkoY29tcGxldGUsIHRoaXMpKVxuICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04pW2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFswXVtzY3JvbGxTaXplXSlcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdoaWRlLmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuXG4gICAgdGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSgpKVswXS5vZmZzZXRIZWlnaHRcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlIGluJylcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG5cbiAgICB0aGlzLiR0cmlnZ2VyXG4gICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlZCcpXG4gICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKVxuXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuXG4gICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgICAgLnRyaWdnZXIoJ2hpZGRlbi5icy5jb2xsYXBzZScpXG4gICAgfVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuIGNvbXBsZXRlLmNhbGwodGhpcylcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIFtkaW1lbnNpb25dKDApXG4gICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChDb2xsYXBzZS5UUkFOU0lUSU9OX0RVUkFUSU9OKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzW3RoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykgPyAnaGlkZScgOiAnc2hvdyddKClcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5nZXRQYXJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICQodGhpcy5vcHRpb25zLnBhcmVudClcbiAgICAgIC5maW5kKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXBhcmVudD1cIicgKyB0aGlzLm9wdGlvbnMucGFyZW50ICsgJ1wiXScpXG4gICAgICAuZWFjaCgkLnByb3h5KGZ1bmN0aW9uIChpLCBlbGVtZW50KSB7XG4gICAgICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudClcbiAgICAgICAgdGhpcy5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MoZ2V0VGFyZ2V0RnJvbVRyaWdnZXIoJGVsZW1lbnQpLCAkZWxlbWVudClcbiAgICAgIH0sIHRoaXMpKVxuICAgICAgLmVuZCgpXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzID0gZnVuY3Rpb24gKCRlbGVtZW50LCAkdHJpZ2dlcikge1xuICAgIHZhciBpc09wZW4gPSAkZWxlbWVudC5oYXNDbGFzcygnaW4nKVxuXG4gICAgJGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsIGlzT3BlbilcbiAgICAkdHJpZ2dlclxuICAgICAgLnRvZ2dsZUNsYXNzKCdjb2xsYXBzZWQnLCAhaXNPcGVuKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBpc09wZW4pXG4gIH1cblxuICBmdW5jdGlvbiBnZXRUYXJnZXRGcm9tVHJpZ2dlcigkdHJpZ2dlcikge1xuICAgIHZhciBocmVmXG4gICAgdmFyIHRhcmdldCA9ICR0cmlnZ2VyLmF0dHIoJ2RhdGEtdGFyZ2V0JylcbiAgICAgIHx8IChocmVmID0gJHRyaWdnZXIuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG5cbiAgICByZXR1cm4gJCh0YXJnZXQpXG4gIH1cblxuXG4gIC8vIENPTExBUFNFIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuXG4gICAgICBpZiAoIWRhdGEgJiYgb3B0aW9ucy50b2dnbGUgJiYgL3Nob3d8aGlkZS8udGVzdChvcHRpb24pKSBvcHRpb25zLnRvZ2dsZSA9IGZhbHNlXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmNvbGxhcHNlJywgKGRhdGEgPSBuZXcgQ29sbGFwc2UodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmNvbGxhcHNlXG5cbiAgJC5mbi5jb2xsYXBzZSAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmNvbGxhcHNlLkNvbnN0cnVjdG9yID0gQ29sbGFwc2VcblxuXG4gIC8vIENPTExBUFNFIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5jb2xsYXBzZS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uY29sbGFwc2UgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDT0xMQVBTRSBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5jb2xsYXBzZS5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG5cbiAgICBpZiAoISR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykpIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgdmFyICR0YXJnZXQgPSBnZXRUYXJnZXRGcm9tVHJpZ2dlcigkdGhpcylcbiAgICB2YXIgZGF0YSAgICA9ICR0YXJnZXQuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgIHZhciBvcHRpb24gID0gZGF0YSA/ICd0b2dnbGUnIDogJHRoaXMuZGF0YSgpXG5cbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb24pXG4gIH0pXG5cbn0oalF1ZXJ5KTsiXX0=
