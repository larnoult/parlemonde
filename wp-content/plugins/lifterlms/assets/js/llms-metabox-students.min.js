!function(d,t){window.llms=window.llms||{};window.llms.MetaboxStudents=new function(){this.init=function(){window.llms.post.post_type&&-1!==["course","llms_membership"].indexOf(window.llms.post.post_type)&&(this.$metabox=d("#lifterlms-students"),this.bind())},this.bind=function(){var n=this;this.$metabox.on("click","a.llms-remove-student",function(t){t.preventDefault(),n.remove_student(d(this))}),this.$metabox.on("click","a.llms-add-student",function(t){t.preventDefault(),n.add_student(d(this))}),d("#llms-add-student-select").llmsStudentsSelect2({multiple:!0}),d("#llms-enroll-students").on("click",function(){n.enroll_students(d(this))})},this.add_student=function(t){this.update_student_enrollment(t.attr("data-id"),"add")},this.enroll_students=function(n){var e=d("#llms-add-student-select"),s=e.val(),l=this.$metabox.find(".llms-metabox-students-add-new");LLMS.Spinner.start(l),window.LLMS.Ajax.call({data:{action:"bulk_enroll_students",student_ids:s},beforeSend:function(t){s||(n.before('<span class="llms-error">'+LLMS.l10n.translate("Please select a student to enroll")+"</span>"),t.abort(),LLMS.Spinner.stop(l))},success:function(t){e.val(null).trigger("change"),LLMS.Spinner.stop(l),window.llms.admin_tables.reload(d("#llms-gb-table-student-management"))}})},this.remove_student=function(t){this.update_student_enrollment(t.attr("data-id"),"remove")},this.update_student_enrollment=function(t,n){var e=d("#llms-gb-table-student-management"),s=e.closest(".llms-table-wrap");LLMS.Spinner.start(s),window.LLMS.Ajax.call({data:{action:"update_student_enrollment",status:n,student_id:t},success:function(){window.llms.admin_tables.reload(e)}})},this.init()}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMtbWV0YWJveC1zdHVkZW50cy5qcyJdLCJuYW1lcyI6WyIkIiwidW5kZWZpbmVkIiwid2luZG93IiwibGxtcyIsIk1ldGFib3hTdHVkZW50cyIsInRoaXMiLCJpbml0IiwicG9zdCIsInBvc3RfdHlwZSIsImluZGV4T2YiLCIkbWV0YWJveCIsImJpbmQiLCJzZWxmIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJyZW1vdmVfc3R1ZGVudCIsImFkZF9zdHVkZW50IiwibGxtc1N0dWRlbnRzU2VsZWN0MiIsIm11bHRpcGxlIiwiZW5yb2xsX3N0dWRlbnRzIiwiJGVsIiwidXBkYXRlX3N0dWRlbnRfZW5yb2xsbWVudCIsImF0dHIiLCIkc2VsZWN0IiwiaWRzIiwidmFsIiwiJGNvbnRhaW5lciIsImZpbmQiLCJMTE1TIiwiU3Bpbm5lciIsInN0YXJ0IiwiQWpheCIsImNhbGwiLCJkYXRhIiwiYWN0aW9uIiwic3R1ZGVudF9pZHMiLCJiZWZvcmVTZW5kIiwieGhyIiwiYmVmb3JlIiwibDEwbiIsInRyYW5zbGF0ZSIsImFib3J0Iiwic3RvcCIsInN1Y2Nlc3MiLCJyIiwidHJpZ2dlciIsImFkbWluX3RhYmxlcyIsInJlbG9hZCIsImlkIiwic3RhdHVzIiwiJHRhYmxlIiwiY2xvc2VzdCIsInN0dWRlbnRfaWQiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJDQUtDLFNBQVlBLEVBQUdDLEdBRWZDLE9BQU9DLEtBQU9ELE9BQU9DLE1BQVEsR0FvSjdCRCxPQUFPQyxLQUFLQyxnQkFBa0IsSUFsSlIsV0FRckJDLEtBQUtDLEtBQU8sV0FJTkosT0FBT0MsS0FBS0ksS0FBS0MsWUFBYyxJQUZ0QixDQUFFLFNBQVUsbUJBRXdCQyxRQUFTUCxPQUFPQyxLQUFLSSxLQUFLQyxhQUUzRUgsS0FBS0ssU0FBV1YsRUFBRyx1QkFFbkJLLEtBQUtNLFNBV1BOLEtBQUtNLEtBQU8sV0FFWCxJQUFJQyxFQUFPUCxLQUVYQSxLQUFLSyxTQUFTRyxHQUFJLFFBQVMsd0JBQXlCLFNBQVVDLEdBQzdEQSxFQUFFQyxpQkFDRkgsRUFBS0ksZUFBZ0JoQixFQUFHSyxTQUd6QkEsS0FBS0ssU0FBU0csR0FBSSxRQUFTLHFCQUFzQixTQUFVQyxHQUMxREEsRUFBRUMsaUJBQ0ZILEVBQUtLLFlBQWFqQixFQUFHSyxTQUd0QkwsRUFBRyw0QkFBNkJrQixvQkFBcUIsQ0FBRUMsVUFBVSxJQUVqRW5CLEVBQUcseUJBQTBCYSxHQUFJLFFBQVMsV0FDekNELEVBQUtRLGdCQUFpQnBCLEVBQUdLLFVBVzNCQSxLQUFLWSxZQUFjLFNBQVVJLEdBQzVCaEIsS0FBS2lCLDBCQUEyQkQsRUFBSUUsS0FBTSxXQUFhLFFBVXhEbEIsS0FBS2UsZ0JBQWtCLFNBQVVDLEdBRWhDLElBQ0NHLEVBQVV4QixFQUFHLDRCQUNieUIsRUFBTUQsRUFBUUUsTUFDZEMsRUFBYXRCLEtBQUtLLFNBQVNrQixLQUFNLGtDQUVsQ0MsS0FBS0MsUUFBUUMsTUFBT0osR0FFcEJ6QixPQUFPMkIsS0FBS0csS0FBS0MsS0FBTSxDQUN0QkMsS0FBTSxDQUNMQyxPQUFRLHVCQUNSQyxZQUFhWCxHQUVkWSxXQUFZLFNBQVVDLEdBQ2RiLElBQ05KLEVBQUlrQixPQUFRLDRCQUE4QlYsS0FBS1csS0FBS0MsVUFBVyxxQ0FBd0MsV0FDdkdILEVBQUlJLFFBQ0piLEtBQUtDLFFBQVFhLEtBQU1oQixLQUdyQmlCLFFBQVMsU0FBVUMsR0FFbEJyQixFQUFRRSxJQUFLLE1BQU9vQixRQUFTLFVBQzdCakIsS0FBS0MsUUFBUWEsS0FBTWhCLEdBQ25CekIsT0FBT0MsS0FBSzRDLGFBQWFDLE9BQVFoRCxFQUFHLDBDQWV2Q0ssS0FBS1csZUFBaUIsU0FBVUssR0FDL0JoQixLQUFLaUIsMEJBQTJCRCxFQUFJRSxLQUFNLFdBQWEsV0FXeERsQixLQUFLaUIsMEJBQTRCLFNBQVUyQixFQUFJQyxHQUU5QyxJQUFJQyxFQUFTbkQsRUFBRyxxQ0FDZjJCLEVBQWF3QixFQUFPQyxRQUFTLG9CQUU5QnZCLEtBQUtDLFFBQVFDLE1BQU9KLEdBRXBCekIsT0FBTzJCLEtBQUtHLEtBQUtDLEtBQU0sQ0FDdEJDLEtBQU0sQ0FDTEMsT0FBUSw0QkFDUmUsT0FBUUEsRUFDUkcsV0FBWUosR0FFYkwsUUFBUyxXQUVSMUMsT0FBT0MsS0FBSzRDLGFBQWFDLE9BQVFHLE9BUXBDOUMsS0FBS0MsUUFqSk4sQ0F3SklnRCIsImZpbGUiOiJsbG1zLW1ldGFib3gtc3R1ZGVudHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWZ0ZXJMTVMgU3R1ZGVudHMgTWV0YWJveCBGdW5jdGlvbnNcbiAqIEBzaW5jZSAgMy4wLjBcbiAqIEB2ZXJzaW9uICAzLjAuMFxuICovXG47KCBmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xuXG5cdHdpbmRvdy5sbG1zID0gd2luZG93LmxsbXMgfHwge307XG5cblx0dmFyIE1ldGFib3hTdHVkZW50cyA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZVxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqIEBzaW5jZSAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHR0aGlzLmluaXQgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIHNjcmVlbnMgPSBbICdjb3Vyc2UnLCAnbGxtc19tZW1iZXJzaGlwJyBdO1xuXG5cdFx0XHRpZiAoIHdpbmRvdy5sbG1zLnBvc3QucG9zdF90eXBlICYmIC0xICE9PSBzY3JlZW5zLmluZGV4T2YoIHdpbmRvdy5sbG1zLnBvc3QucG9zdF90eXBlICkgKSB7XG5cblx0XHRcdFx0dGhpcy4kbWV0YWJveCA9ICQoICcjbGlmdGVybG1zLXN0dWRlbnRzJyApO1xuXG5cdFx0XHRcdHRoaXMuYmluZCgpO1xuXHRcdFx0fVxuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgZG9tIGV2ZW50c1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuNC4wXG5cdFx0ICovXG5cdFx0dGhpcy5iaW5kID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0dGhpcy4kbWV0YWJveC5vbiggJ2NsaWNrJywgJ2EubGxtcy1yZW1vdmUtc3R1ZGVudCcsIGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdHNlbGYucmVtb3ZlX3N0dWRlbnQoICQoIHRoaXMgKSApO1xuXHRcdFx0fSApO1xuXG5cdFx0XHR0aGlzLiRtZXRhYm94Lm9uKCAnY2xpY2snLCAnYS5sbG1zLWFkZC1zdHVkZW50JywgZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0c2VsZi5hZGRfc3R1ZGVudCggJCggdGhpcyApICk7XG5cdFx0XHR9ICk7XG5cblx0XHRcdCQoICcjbGxtcy1hZGQtc3R1ZGVudC1zZWxlY3QnICkubGxtc1N0dWRlbnRzU2VsZWN0MiggeyBtdWx0aXBsZTogdHJ1ZSB9ICk7XG5cblx0XHRcdCQoICcjbGxtcy1lbnJvbGwtc3R1ZGVudHMnICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmVucm9sbF9zdHVkZW50cyggJCggdGhpcyApICk7XG5cdFx0XHR9ICk7XG5cblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogQWRkIGEgU3R1ZGVudFxuXHRcdCAqIEBwYXJhbSAgICBvYmogICRlbCAgalF1ZXJ5IHNlbGVjdG9yIG9mIHRoZSBhZGQgYnV0dG9uXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0dGhpcy5hZGRfc3R1ZGVudCA9IGZ1bmN0aW9uKCAkZWwgKSB7XG5cdFx0XHR0aGlzLnVwZGF0ZV9zdHVkZW50X2Vucm9sbG1lbnQoICRlbC5hdHRyKCAnZGF0YS1pZCcgKSwgJ2FkZCcgKTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogSGFuZGxlIGJ1bGsgZW5yb2xsbWVudCB2aWEgXCJFbnJvbGwgTmV3IFN0dWRlbnRzXCIgYXJlYVxuXHRcdCAqIEBwYXJhbSAgICBvYmogICAkZWwgIGpRdWVyeSBzZWxlY3RvciBmb3IgdGhlIHRyaWdnZXJpbmcgYnV0dG9uXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy40LjBcblx0XHQgKi9cblx0XHR0aGlzLmVucm9sbF9zdHVkZW50cyA9IGZ1bmN0aW9uKCAkZWwgKSB7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0JHNlbGVjdCA9ICQoICcjbGxtcy1hZGQtc3R1ZGVudC1zZWxlY3QnICksXG5cdFx0XHRcdGlkcyA9ICRzZWxlY3QudmFsKCksXG5cdFx0XHRcdCRjb250YWluZXIgPSB0aGlzLiRtZXRhYm94LmZpbmQoICcubGxtcy1tZXRhYm94LXN0dWRlbnRzLWFkZC1uZXcnICk7XG5cblx0XHRcdExMTVMuU3Bpbm5lci5zdGFydCggJGNvbnRhaW5lciApO1xuXG5cdFx0XHR3aW5kb3cuTExNUy5BamF4LmNhbGwoIHtcblx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdGFjdGlvbjogJ2J1bGtfZW5yb2xsX3N0dWRlbnRzJyxcblx0XHRcdFx0XHRzdHVkZW50X2lkczogaWRzLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbiggeGhyICkge1xuXHRcdFx0XHRcdGlmICggISBpZHMgKSB7XG5cdFx0XHRcdFx0XHQkZWwuYmVmb3JlKCAnPHNwYW4gY2xhc3M9XCJsbG1zLWVycm9yXCI+JyArIExMTVMubDEwbi50cmFuc2xhdGUoICdQbGVhc2Ugc2VsZWN0IGEgc3R1ZGVudCB0byBlbnJvbGwnICkgKyAnPC9zcGFuPicgKTtcblx0XHRcdFx0XHRcdHhoci5hYm9ydCgpO1xuXHRcdFx0XHRcdFx0TExNUy5TcGlubmVyLnN0b3AoICRjb250YWluZXIgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKCByICkge1xuXG5cdFx0XHRcdFx0JHNlbGVjdC52YWwoIG51bGwgKS50cmlnZ2VyKCAnY2hhbmdlJyApO1xuXHRcdFx0XHRcdExMTVMuU3Bpbm5lci5zdG9wKCAkY29udGFpbmVyICk7XG5cdFx0XHRcdFx0d2luZG93LmxsbXMuYWRtaW5fdGFibGVzLnJlbG9hZCggJCggJyNsbG1zLWdiLXRhYmxlLXN0dWRlbnQtbWFuYWdlbWVudCcgKSApO1xuXG5cdFx0XHRcdH0sXG5cdFx0XHR9ICk7XG5cblxuXG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIFJlbW92ZSBhIFN0dWRlbnRcblx0XHQgKiBAcGFyYW0gICAgb2JqICAkZWwgIGpRdWVyeSBzZWxlY3RvciBvZiB0aGUgYWRkIGJ1dHRvblxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdHRoaXMucmVtb3ZlX3N0dWRlbnQgPSBmdW5jdGlvbiggJGVsICkge1xuXHRcdFx0dGhpcy51cGRhdGVfc3R1ZGVudF9lbnJvbGxtZW50KCAkZWwuYXR0ciggJ2RhdGEtaWQnICksICdyZW1vdmUnICk7XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIEV4ZWN1dGUgQUpBWCBjYWxsLCBhZGQgc3Bpbm5lcnMsIHVwZGF0ZSBodG1sIHZpZXdcblx0XHQgKiBAcGFyYW0gICAgaW50ICAgICAgaWQgICAgICBzdHVkZW50IGlkXG5cdFx0ICogQHBhcmFtICAgIHN0cmluZyAgIHN0YXR1cyAgbmV3IHN0YXR1cyBbYWRkfHJlbW92ZV1cblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjQuMFxuXHRcdCAqL1xuXHRcdHRoaXMudXBkYXRlX3N0dWRlbnRfZW5yb2xsbWVudCA9IGZ1bmN0aW9uKCBpZCwgc3RhdHVzICkge1xuXG5cdFx0XHR2YXIgJHRhYmxlID0gJCggJyNsbG1zLWdiLXRhYmxlLXN0dWRlbnQtbWFuYWdlbWVudCcgKSxcblx0XHRcdFx0JGNvbnRhaW5lciA9ICR0YWJsZS5jbG9zZXN0KCAnLmxsbXMtdGFibGUtd3JhcCcgKTtcblxuXHRcdFx0TExNUy5TcGlubmVyLnN0YXJ0KCAkY29udGFpbmVyICk7XG5cblx0XHRcdHdpbmRvdy5MTE1TLkFqYXguY2FsbCgge1xuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0YWN0aW9uOiAndXBkYXRlX3N0dWRlbnRfZW5yb2xsbWVudCcsXG5cdFx0XHRcdFx0c3RhdHVzOiBzdGF0dXMsXG5cdFx0XHRcdFx0c3R1ZGVudF9pZDogaWQsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdC8vIHNwaW5uZXIgZG9lc24ndCBzdG9wIGJlY2F1c2UgdGhlIHRhYmxlIHJlbG9hZGVyIHdpbGwgc3RvcCBpdFxuXHRcdFx0XHRcdHdpbmRvdy5sbG1zLmFkbWluX3RhYmxlcy5yZWxvYWQoICR0YWJsZSApO1xuXHRcdFx0XHR9LFxuXHRcdFx0fSApO1xuXG5cdFx0fTtcblxuXG5cdFx0Ly8gZ29cblx0XHR0aGlzLmluaXQoKTtcblxuXHR9O1xuXG5cdC8vIGluaXRhbGl6ZSB0aGUgb2JqZWN0XG5cdHdpbmRvdy5sbG1zLk1ldGFib3hTdHVkZW50cyA9IG5ldyBNZXRhYm94U3R1ZGVudHMoKTtcblxufSApKCBqUXVlcnkgKTtcbiJdfQ==
