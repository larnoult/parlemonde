var LLMS=window.LLMS||{};!function(r){"use strict";LLMS.Achievements={init:function(){var t=this;r(".llms-achievement")&&r(document).on("ready",function(){t.bind(),t.maybe_open()})},bind:function(){var i=this;r(".llms-achievement").each(function(){i.create_modal(r(this))}),r(".llms-achievement").on("click",function(){var t=r(this),e="achievement-"+t.attr("data-id"),s=r("#"+e);s.length||i.create_modal(t),s.iziModal("open")})},create_modal:function(e){var t="achievement-"+e.attr("data-id"),s=r("#"+t);s.length||(s=r('<div class="llms-achievement-modal" id="'+t+'" />'),r("body").append(s)),s.iziModal({headerColor:"#3a3a3a",group:"achievements",history:!0,loop:!0,overlayColor:"rgba( 0, 0, 0, 0.6 )",transitionIn:"fadeInDown",transitionOut:"fadeOutDown",width:340,onOpening:function(t){t.setTitle(e.find(".llms-achievement-title").html()),t.setSubtitle(e.find(".llms-achievement-date").html()),t.setContent('<div class="llms-achievement">'+e.html()+"</div>")},onClosing:function(){window.history.pushState("",document.title,window.location.pathname+window.location.search)}})},maybe_open:function(){var t=window.location.hash;t&&-1!==t.indexOf("achievement-")&&r('a[href="'+t+'"]').first().trigger("click")}},LLMS.Ajax={url:window.ajaxurl||window.llms.ajaxurl,type:"post",data:[],cache:!1,dataType:"json",async:!0,response:[],init:function(t){if(null===t||"object"!=typeof t)return!1;t.url=this.url,t.type="type"in t?t.type:this.type,t.data="data"in t?t.data:this.data,t.cache="cache"in t?t.cache:this.cache,t.dataType="dataType"in t?t.dataType:this.dataType,t.async="async"in t?t.async:this.async,t.data._ajax_nonce=wp_ajax_data.nonce;var e=LLMS.Rest.get_query_vars();return t.data.post_id="post"in e?e.post:null,!t.data.post_id&&r("input#post_ID").length&&(t.data.post_id=r("input#post_ID").val()),t},call:function(t){var e=this.init(t);return!!e&&(this.request(e),this)},request:function(t){return r.ajax(t),this}},LLMS.Donut=function(t){function e(t){this.settings=r.extend({element:t.element,percent:100},t),this.circle=this.settings.element.find("path"),this.settings.stroke_width=parseInt(this.circle.css("stroke-width")),this.radius=(parseInt(this.settings.element.css("width"))-this.settings.stroke_width)/2,this.angle=-97.5,this.i=Math.round(.75*this.settings.percent),this.first=!0,this.animate=function(){this.timer=setInterval(this.loop.bind(this),10)},this.loop=function(){this.angle+=5,this.angle%=360;var t,e=this.angle/180*Math.PI,s=this.radius+this.settings.stroke_width/2+Math.cos(e)*this.radius,i=this.radius+this.settings.stroke_width/2+Math.sin(e)*this.radius;!0===this.first?(t=this.circle.attr("d")+" M "+s+" "+i,this.first=!1):t=this.circle.attr("d")+" L "+s+" "+i,this.circle.attr("d",t),this.i--,this.i<=0&&clearInterval(this.timer)}}var s;(s=t).append('<svg preserveAspectRatio="xMidYMid" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M100,100" /></svg>'),new e({element:s,percent:s.attr("data-perc")}).animate()},LLMS.Instructors={init:function(){var t=this;r("body").hasClass("wp-admin")||r(".llms-instructors").length&&LLMS.wait_for_matchHeight(function(){t.bind()})},bind:function(){r(".llms-instructors .llms-author").matchHeight()}},LLMS.l10n=LLMS.l10n||{},LLMS.l10n.translate=function(t){return this.strings[t]?this.strings[t]:t},LLMS.l10n.replace=function(t,e){var s=this.translate(t);return r.each(e,function(t,e){-1!==t.indexOf("s")?e=e.toString():-1!==t.indexOf("d")&&(e*=1),s=s.replace(t,e)}),s},LLMS.LessonPreview={$els:null,init:function(){var t=this;this.$locked=r('a[href="#llms-lesson-locked"]'),this.$locked.length&&t.bind(),r(".llms-course-navigation").length&&LLMS.wait_for_matchHeight(function(){t.match_height()})},bind:function(){var s=this;this.$locked.on("click",function(){return!1}),this.$locked.on("mouseenter",function(){var t=r(this).find(".llms-tooltip");if(!t.length){var e=r(this).attr("data-tooltip-msg");e||(e=LLMS.l10n.translate("You do not have permission to access this content")),t=s.get_tooltip(e),r(this).append(t)}setTimeout(function(){t.addClass("show")},10)}),this.$locked.on("mouseleave",function(){r(this).find(".llms-tooltip").removeClass("show")})},match_height:function(){r(".llms-course-navigation .llms-lesson-link").matchHeight()},get_tooltip:function(t){var e=r('<div class="llms-tooltip" />');return e.append('<div class="llms-tooltip-content">'+t+"</div>"),e}},LLMS.Loops={init:function(){var t=this;r(".llms-loop").length&&LLMS.wait_for_matchHeight(function(){t.match_height()})},match_height:function(){r(".llms-loop-item .llms-loop-item-content").matchHeight(),r(".llms-achievement-loop-item .llms-achievement").matchHeight(),r(".llms-certificate-loop-item .llms-certificate").matchHeight()}},LLMS.OutlineCollapse={$outlines:null,init:function(){this.$outlines=r(".llms-widget-syllabus--collapsible"),this.$outlines.length&&this.bind()},bind:function(){var i=this;this.$outlines.each(function(){var t=r(this),e=t.find(".llms-section .section-header");e.on("click",function(t){t.preventDefault();var e=r(this).closest(".llms-section");switch(i.get_section_state(e)){case"closed":i.open_section(e);break;case"opened":i.close_section(e)}}),t.find(".llms-collapse-toggle").on("click",function(t){t.preventDefault();var s="close"===r(this).attr("data-action")?"opened":"closed";e.each(function(){var t=r(this).closest(".llms-section"),e=i.get_section_state(t);if(s!==e)return!0;switch(e){case"closed":i.close_section(t);break;case"opened":i.open_section(t)}r(this).trigger("click")})})})},close_section:function(t){t.removeClass("llms-section--opened").addClass("llms-section--closed")},open_section:function(t){t.removeClass("llms-section--closed").addClass("llms-section--opened")},get_section_state:function(t){return t.hasClass("llms-section--opened")?"opened":"closed"}},r.extend(LLMS.PasswordStrength,{$pass:r(".llms-password"),$conf:r(".llms-password-confirm"),$meter:r(".llms-password-strength-meter"),$form:null,init:function(){if(!r("body").hasClass("wp-admin")&&this.$meter.length){this.$form=this.$pass.closest("form");var t,e=this,s=0;t=setInterval(function(){if(300<=s)console.log("cannot do password strength meter.");else{if("undefined"==typeof wp&&void 0===wp.passwordStrength)return void s++;e.bind(),e.$form.trigger("llms-password-strength-ready")}clearInterval(t)},100)}},bind:function(){var t=this;this.$form.hasClass("llms-checkout")||this.$form.on("submit",t,t.submit),t.$pass.add(t.$conf).on("keyup",function(){t.check_strength()})},check_strength:function(){var t=this.$pass.closest(".llms-form-field"),e=this.$conf.closest(".llms-form-field"),s=this.$pass.val().length,i=this.$conf.val().length;if(!s&&!i)return t.removeClass("valid invalid"),e.removeClass("valid invalid"),void this.$meter.hide();this.get_current_strength_status()?(t.removeClass("invalid").addClass("valid"),i&&e.removeClass("invalid").addClass("valid")):(t.removeClass("valid").addClass("invalid"),i&&e.removeClass("valid").addClass("invalid")),this.$meter.removeClass("too-short very-weak weak medium strong mismatch"),this.$meter.show().addClass(this.get_current_strength("slug")),this.$meter.html(this.get_current_strength("text"))},checkout:function(t,e){t.get_current_strength_status()?e(!0):e(LLMS.l10n.translate("There is an issue with your chosen password."))},get_blacklist:function(){return wp.passwordStrength.userInputBlacklist()},get_current_strength:function(t){t=t||"int";var e,s=this.$pass.val(),i=this.$conf.val();return s.length<6?e=-1:0===(e=wp.passwordStrength.meter(s,this.get_blacklist(),i))&&(e=1),"slug"===t?this.get_strength_slug(e):"text"===t?this.get_strength_text(e):e},get_current_strength_status:function(){var t=this.get_current_strength(),e=this.get_strength_value(this.get_minimum_strength());return 5!==t&&e<=t},get_strength_slug:function(t){var e={"-1":"too-short",1:"very-weak",2:"weak",3:"medium",4:"strong",5:"mismatch"};return e[t]?e[t]:e[5]},get_strength_text:function(t){var e={"-1":LLMS.l10n.translate("Too Short"),1:LLMS.l10n.translate("Very Weak"),2:LLMS.l10n.translate("Weak"),3:LLMS.l10n.translate("Medium"),4:LLMS.l10n.translate("Strong"),5:LLMS.l10n.translate("Mismatch")};return e[t]?e[t]:e[5]},get_strength_value:function(t){var e={"too-short":-1,"very-weak":1,weak:2,medium:3,strong:4,mismatch:5};return e[t]?e[t]:e.mismatch},submit:function(t){var e=t.data;t.preventDefault(),e.$pass.trigger("keyup"),e.get_current_strength_status()?(e.$form.off("submit",e.submit),e.$form.trigger("submit")):(r("html, body").animate({scrollTop:e.$meter.offset().top-100},200),e.$meter.hide(),setTimeout(function(){e.$meter.fadeIn(400)},220))}}),LLMS.Pricing_Tables={init:function(){var t=this;r("body").hasClass("wp-admin")||r(".llms-access-plans").length&&(LLMS.wait_for_matchHeight(function(){t.bind()}),this.$locked=r('a[href="#llms-plan-locked"]'),this.$locked.length&&LLMS.wait_for_popover(function(){t.bind_locked()}))},bind:function(){r(".llms-access-plan-content").matchHeight(),r(".llms-access-plan-pricing.trial").matchHeight()},bind_locked:function(){this.$locked.each(function(){r(this).webuiPopover({animation:"pop",closeable:!0,content:function(t){var e=r('<div class="llms-members-only-restrictions" />');return e.append(t.$element.closest(".llms-access-plan").find(".llms-access-plan-restrictions ul").clone()),e},placement:"top",style:"inverse",title:LLMS.l10n.translate("Members Only Pricing"),width:"280px"})})}},LLMS.Review={init:function(){this.bind()},bind:function(){r("#llms_review_submit_button").click(function(){""!==r("#review_title").val()&&""!==r("#review_text").val()?jQuery.ajax({type:"post",dataType:"json",url:window.llms.ajaxurl,data:{action:"LLMSSubmitReview",review_title:r("#review_title").val(),review_text:r("#review_text").val(),pageID:r("#post_ID").val()},success:function(){console.log("Review success"),r("#review_box").hide("swing"),r("#thank_you_box").show("swing")},error:function(t,e,s){console.log(t),console.log(e),console.log(s)}}):(""===r("#review_title").val()?r("#review_title_error").show("swing"):r("#review_title_error").hide("swing"),""===r("#review_text").val()?r("#review_text_error").show("swing"):r("#review_text_error").hide("swing"))}),r("#_llms_display_reviews").attr("checked")?(r(".llms-num-reviews-top").addClass("top"),r(".llms-num-reviews-bottom").show()):r(".llms-num-reviews-bottom").hide(),r("#_llms_display_reviews").change(function(){r("#_llms_display_reviews").attr("checked")?(r(".llms-num-reviews-top").addClass("top"),r(".llms-num-reviews-bottom").show()):(r(".llms-num-reviews-top").removeClass("top"),r(".llms-num-reviews-bottom").hide())})}},LLMS.Spinner={get:function(t,e){var s=t.find(".llms-spinning").first();return s.length||(s=r('<div class="llms-spinning"><i class="llms-spinner '+(e=e||"default")+'"></i></div>'),t.append(s)),s},start:function(t,e){var s=this;t.each(function(){s.get(r(this),e).show()})},stop:function(t){var e=this;t.each(function(){e.get(r(this)).hide()})}},LLMS.StudentDashboard={screen:"",meter_exists:0,init:function(){r(".llms-student-dashboard").length&&(this.meter_exists=r(".llms-password-strength-meter").length,this.bind(),"orders"===this.get_screen()&&this.bind_orders())},bind:function(){var a=this;r('.llms-student-dashboard a[href="#llms-password-change-toggle"]').on("click",function(t){t.preventDefault();var e=r(this),s=e.text(),i=e.attr("data-action"),n="hide"===i?"show":"hide",o=e.attr("data-text");a.password_toggle(i),"show"===i?e.attr("tabindex","-777"):e.removeAttr("tabindex"),e.attr("data-action",n).attr("data-text",s).text(o)}),this.meter_exists?r(".llms-person-form.edit-account").on("llms-password-strength-ready",function(){a.password_toggle("hide")}):a.password_toggle("hide")},bind_orders:function(){r("#llms-cancel-subscription-form").on("submit",this.order_cancel_warning),r("#llms_update_payment_method").on("click",function(){r('input[name="llms_payment_gateway"]:checked').trigger("change"),r(this).closest("form").find(".llms-switch-payment-source-main").slideToggle("200")})},get_screen:function(){return this.screen||(this.screen=r(".llms-student-dashboard").attr("data-current")),this.screen},order_cancel_warning:function(t){t.preventDefault();var e=LLMS.l10n.translate("Are you sure you want to cancel your subscription?");window.confirm(LLMS.l10n.translate(e))&&(r(this).off("submit",this.order_cancel_warning),r(this).submit())},password_toggle:function(t){t||(t="show");var e=r("#password, #password_confirm, #current_password"),s=r("#password").closest("form");r(".llms-change-password")[t](),"show"===t?(e.attr("required","required"),this.meter_exists&&s.on("submit",LLMS.PasswordStrength,LLMS.PasswordStrength.submit)):(e.removeAttr("required").val(""),this.meter_exists&&(s.off("submit",LLMS.PasswordStrength.submit),LLMS.PasswordStrength.check_strength()))}},LLMS.Rest={init:function(){this.bind()},bind:function(){},is_path:function(t){for(var e=!1,s=window.location.href,i=0;i<t.length;i++)0<s.search(t[i])&&!e&&(e=!0);return e},get_query_vars:function(){for(var t,e=[],s=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<s.length;i++)t=s[i].split("="),e.push(t[0]),e[t[0]]=t[1];return e}},LLMS.init=function(){for(var t in LLMS)"object"==typeof LLMS[t]&&null!==LLMS[t]&&void 0!==LLMS[t].init&&"function"==typeof LLMS[t].init&&LLMS[t].init()},LLMS.wait_for_matchHeight=function(t){this.wait_for(function(){return void 0!==r.fn.matchHeight},t)},LLMS.wait_for_popover=function(t){this.wait_for(function(){return void 0!==r.fn.webuiPopover},t)},LLMS.wait_for=function(t,e){var s,i=0;s=setInterval(function(){if(300<=i)console.log("could not load dependency");else{if(!t())return console.log("waiting..."),void i++;e()}clearInterval(s)},100)},LLMS.init(r)}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMuanMiXSwibmFtZXMiOlsiTExNUyIsIndpbmRvdyIsIiQiLCJBY2hpZXZlbWVudHMiLCJpbml0Iiwic2VsZiIsInRoaXMiLCJkb2N1bWVudCIsIm9uIiwiYmluZCIsIm1heWJlX29wZW4iLCJlYWNoIiwiY3JlYXRlX21vZGFsIiwiJHRoaXMiLCJpZCIsImF0dHIiLCIkbW9kYWwiLCJsZW5ndGgiLCJpemlNb2RhbCIsIiRlbCIsImFwcGVuZCIsImhlYWRlckNvbG9yIiwiZ3JvdXAiLCJoaXN0b3J5IiwibG9vcCIsIm92ZXJsYXlDb2xvciIsInRyYW5zaXRpb25JbiIsInRyYW5zaXRpb25PdXQiLCJ3aWR0aCIsIm9uT3BlbmluZyIsIm1vZGFsIiwic2V0VGl0bGUiLCJmaW5kIiwiaHRtbCIsInNldFN1YnRpdGxlIiwic2V0Q29udGVudCIsIm9uQ2xvc2luZyIsInB1c2hTdGF0ZSIsInRpdGxlIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInNlYXJjaCIsImhhc2giLCJpbmRleE9mIiwiZmlyc3QiLCJ0cmlnZ2VyIiwiQWpheCIsInVybCIsImFqYXh1cmwiLCJsbG1zIiwidHlwZSIsImRhdGEiLCJjYWNoZSIsImRhdGFUeXBlIiwiYXN5bmMiLCJyZXNwb25zZSIsIm9iaiIsIl9hamF4X25vbmNlIiwid3BfYWpheF9kYXRhIiwibm9uY2UiLCJxdWVyeV92YXJzIiwiUmVzdCIsImdldF9xdWVyeV92YXJzIiwicG9zdF9pZCIsInBvc3QiLCJ2YWwiLCJjYWxsIiwic2V0dGluZ3MiLCJyZXF1ZXN0IiwiYWpheCIsIkRvbnV0Iiwib3B0aW9ucyIsImV4dGVuZCIsImVsZW1lbnQiLCJwZXJjZW50IiwiY2lyY2xlIiwic3Ryb2tlX3dpZHRoIiwicGFyc2VJbnQiLCJjc3MiLCJyYWRpdXMiLCJhbmdsZSIsImkiLCJNYXRoIiwicm91bmQiLCJhbmltYXRlIiwidGltZXIiLCJzZXRJbnRlcnZhbCIsImQiLCJyYWRpYW5zIiwiUEkiLCJ4IiwiY29zIiwieSIsInNpbiIsImNsZWFySW50ZXJ2YWwiLCJJbnN0cnVjdG9ycyIsImhhc0NsYXNzIiwid2FpdF9mb3JfbWF0Y2hIZWlnaHQiLCJtYXRjaEhlaWdodCIsImwxMG4iLCJ0cmFuc2xhdGUiLCJzdHJpbmciLCJzdHJpbmdzIiwicmVwbGFjZSIsInJlcGxhY2VtZW50cyIsInN0ciIsInRva2VuIiwidmFsdWUiLCJ0b1N0cmluZyIsIkxlc3NvblByZXZpZXciLCIkZWxzIiwiJGxvY2tlZCIsIm1hdGNoX2hlaWdodCIsIiR0aXAiLCJtc2ciLCJnZXRfdG9vbHRpcCIsInNldFRpbWVvdXQiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiTG9vcHMiLCJPdXRsaW5lQ29sbGFwc2UiLCIkb3V0bGluZXMiLCIkb3V0bGluZSIsIiRoZWFkZXJzIiwiZSIsInByZXZlbnREZWZhdWx0IiwiJHNlY3Rpb24iLCJjbG9zZXN0IiwiZ2V0X3NlY3Rpb25fc3RhdGUiLCJvcGVuX3NlY3Rpb24iLCJjbG9zZV9zZWN0aW9uIiwib3Bwb3NpdGVfYWN0aW9uIiwic3RhdGUiLCJQYXNzd29yZFN0cmVuZ3RoIiwiJHBhc3MiLCIkY29uZiIsIiRtZXRlciIsIiRmb3JtIiwiaW50ZXJ2YWwiLCJjb3VudGVyIiwiY29uc29sZSIsImxvZyIsIndwIiwicGFzc3dvcmRTdHJlbmd0aCIsInN1Ym1pdCIsImFkZCIsImNoZWNrX3N0cmVuZ3RoIiwiJHBhc3NfZmllbGQiLCIkY29uZl9maWVsZCIsInBhc3NfbGVuZ3RoIiwiY29uZl9sZW5ndGgiLCJoaWRlIiwiZ2V0X2N1cnJlbnRfc3RyZW5ndGhfc3RhdHVzIiwic2hvdyIsImdldF9jdXJyZW50X3N0cmVuZ3RoIiwiY2hlY2tvdXQiLCJjYWxsYmFjayIsImdldF9ibGFja2xpc3QiLCJ1c2VySW5wdXRCbGFja2xpc3QiLCJmb3JtYXQiLCJwYXNzIiwiY29uZiIsIm1ldGVyIiwiZ2V0X3N0cmVuZ3RoX3NsdWciLCJnZXRfc3RyZW5ndGhfdGV4dCIsImN1cnIiLCJtaW4iLCJnZXRfc3RyZW5ndGhfdmFsdWUiLCJnZXRfbWluaW11bV9zdHJlbmd0aCIsInN0cmVuZ3RoX3ZhbCIsInNsdWdzIiwiLTEiLCIxIiwiMiIsIjMiLCI0IiwiNSIsInRleHRzIiwic3RyZW5ndGhfc2x1ZyIsInZhbHVlcyIsInRvby1zaG9ydCIsInZlcnktd2VhayIsIndlYWsiLCJtZWRpdW0iLCJzdHJvbmciLCJtaXNtYXRjaCIsIm9mZiIsInNjcm9sbFRvcCIsIm9mZnNldCIsInRvcCIsImZhZGVJbiIsIlByaWNpbmdfVGFibGVzIiwid2FpdF9mb3JfcG9wb3ZlciIsImJpbmRfbG9ja2VkIiwid2VidWlQb3BvdmVyIiwiYW5pbWF0aW9uIiwiY2xvc2VhYmxlIiwiY29udGVudCIsIiRjb250ZW50IiwiJGVsZW1lbnQiLCJjbG9uZSIsInBsYWNlbWVudCIsInN0eWxlIiwiUmV2aWV3IiwiY2xpY2siLCJqUXVlcnkiLCJhY3Rpb24iLCJyZXZpZXdfdGl0bGUiLCJyZXZpZXdfdGV4dCIsInBhZ2VJRCIsInN1Y2Nlc3MiLCJlcnJvciIsImpxWEhSIiwidGV4dFN0YXR1cyIsImVycm9yVGhyb3duIiwiY2hhbmdlIiwiU3Bpbm5lciIsImdldCIsInNpemUiLCIkc3Bpbm5lciIsInN0YXJ0Iiwic3RvcCIsIlN0dWRlbnREYXNoYm9hcmQiLCJzY3JlZW4iLCJtZXRlcl9leGlzdHMiLCJnZXRfc2NyZWVuIiwiYmluZF9vcmRlcnMiLCJjdXJyX3RleHQiLCJ0ZXh0IiwiY3Vycl9hY3Rpb24iLCJuZXdfYWN0aW9uIiwibmV3X3RleHQiLCJwYXNzd29yZF90b2dnbGUiLCJyZW1vdmVBdHRyIiwib3JkZXJfY2FuY2VsX3dhcm5pbmciLCJzbGlkZVRvZ2dsZSIsImNvbmZpcm0iLCIkcHdkcyIsImlzX3BhdGgiLCJwYXRoX2V4aXN0cyIsImhyZWYiLCJ2YXJzIiwiaGFzaGVzIiwic2xpY2UiLCJzcGxpdCIsInB1c2giLCJmdW5jIiwidW5kZWZpbmVkIiwiY2IiLCJ3YWl0X2ZvciIsImZuIiwidGVzdCJdLCJtYXBwaW5ncyI6IkFBYUEsSUFBSUEsS0FBT0MsT0FB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QUFRQyxJQUFLLG1CQUNiRixJQUxBNkcsSUFZRjFKLGNBQWU0QyxJQUViLE1BSUoxSSxLQUFLSSxLQUFLRixHQXpsRFgsQ0E0bERHMk0iLCJmaWxlIjoibGxtcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICpcbiAqIENvbnRyaWJ1dG9yJ3MgTm90aWNlXG4gKiBcbiAqIFRoaXMgaXMgYSBjb21waWxlZCBmaWxlIGFuZCBzaG91bGQgbm90IGJlIGVkaXRlZCBkaXJlY3RseSFcbiAqIFRoZSB1bmNvbXBpbGVkIHNjcmlwdCBpcyBsb2NhdGVkIGluIHRoZSBcImFzc2V0cy9wcml2YXRlXCIgZGlyZWN0b3J5XG4gKiBcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIE1haW4gTExNUyBOYW1lc3BhY2VcbiAqIEB0eXBlIHtbdHlwZV19XG4gKi9cbnZhciBMTE1TID0gd2luZG93LkxMTVMgfHwge307XG4oZnVuY3Rpb24oJCl7XG5cdCd1c2Ugc3RyaWN0Jztcblx0LyoqXG5cdCAqIGxvYWQgYWxsIGFwcCBtb2R1bGVzXG5cdCAqL1xuXHQvKiBnbG9iYWwgTExNUywgJCAqL1xuXHQvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqL1xuXHRcblx0LyoqXG5cdCAqIEZyb250IEVuZCBBY2hpZXZlbWVudHNcblx0ICogQHR5cGUgICAgIHtPYmplY3R9XG5cdCAqIEBzaW5jZSAgICAzLjE0LjBcblx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHQgKi9cblx0TExNUy5BY2hpZXZlbWVudHMgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluaXRcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjE0LjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdGlmICggJCggJy5sbG1zLWFjaGlldmVtZW50JyApICkge1xuXHRcdFx0XHQkKCBkb2N1bWVudCApLm9uKCAncmVhZHknLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XHRcdFx0XHRzZWxmLm1heWJlX29wZW4oKTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIERPTSBldmVudHNcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjE0LjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdFx0ICovXG5cdFx0YmluZDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdCQoICcubGxtcy1hY2hpZXZlbWVudCcgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdHNlbGYuY3JlYXRlX21vZGFsKCAkKCB0aGlzICkgKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdFx0JCggJy5sbG1zLWFjaGlldmVtZW50JyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdHZhciAkdGhpcyA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRpZCA9ICdhY2hpZXZlbWVudC0nICsgJHRoaXMuYXR0ciggJ2RhdGEtaWQnICksXG5cdFx0XHRcdFx0JG1vZGFsID0gJCggJyMnICsgaWQgKTtcblx0XG5cdFx0XHRcdGlmICggISRtb2RhbC5sZW5ndGggKSB7XG5cdFx0XHRcdFx0c2VsZi5jcmVhdGVfbW9kYWwoICR0aGlzICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdCRtb2RhbC5pemlNb2RhbCggJ29wZW4nICk7XG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBDcmVhdGVzIG1vZGFsIGEgbW9kYWwgZm9yIGFuIGFjaGllbXZlbWVudFxuXHRcdCAqIEBwYXJhbSAgICBvYmogICAkZWwgIGpRdWVyeSBzZWxlY3RvciBmb3IgdGhlIG1vZGFsIGNhcmRcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjE0LjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdFx0ICovXG5cdFx0Y3JlYXRlX21vZGFsOiBmdW5jdGlvbiggJGVsICkge1xuXHRcblx0XHRcdHZhciBpZCA9ICdhY2hpZXZlbWVudC0nICsgJGVsLmF0dHIoICdkYXRhLWlkJyApLFxuXHRcdFx0XHQkbW9kYWwgPSAkKCAnIycgKyBpZCApO1xuXHRcblx0XHRcdGlmICggISRtb2RhbC5sZW5ndGggKSB7XG5cdFx0XHRcdCRtb2RhbCA9ICQoICc8ZGl2IGNsYXNzPVwibGxtcy1hY2hpZXZlbWVudC1tb2RhbFwiIGlkPVwiJyArIGlkICsgJ1wiIC8+JyApO1xuXHRcdFx0XHQkKCAnYm9keScgKS5hcHBlbmQoICRtb2RhbCApO1xuXHRcdFx0fVxuXHRcblx0XHRcdCRtb2RhbC5pemlNb2RhbCgge1xuXHRcdFx0XHRoZWFkZXJDb2xvcjogJyMzYTNhM2EnLFxuXHRcdFx0XHRncm91cDogJ2FjaGlldmVtZW50cycsXG5cdFx0XHRcdGhpc3Rvcnk6IHRydWUsXG5cdFx0XHRcdGxvb3A6IHRydWUsXG5cdFx0XHRcdG92ZXJsYXlDb2xvcjogJ3JnYmEoIDAsIDAsIDAsIDAuNiApJyxcblx0XHRcdFx0dHJhbnNpdGlvbkluOiAnZmFkZUluRG93bicsXG5cdFx0XHRcdHRyYW5zaXRpb25PdXQ6ICdmYWRlT3V0RG93bicsXG5cdFx0XHRcdHdpZHRoOiAzNDAsXG5cdFx0XHRcdG9uT3BlbmluZzogZnVuY3Rpb24oIG1vZGFsICkge1xuXHRcblx0XHRcdFx0XHRtb2RhbC5zZXRUaXRsZSggJGVsLmZpbmQoICcubGxtcy1hY2hpZXZlbWVudC10aXRsZScgKS5odG1sKCkgKTtcblx0XHRcdFx0XHRtb2RhbC5zZXRTdWJ0aXRsZSggJGVsLmZpbmQoICcubGxtcy1hY2hpZXZlbWVudC1kYXRlJyApLmh0bWwoKSApO1xuXHRcdFx0XHRcdG1vZGFsLnNldENvbnRlbnQoICc8ZGl2IGNsYXNzPVwibGxtcy1hY2hpZXZlbWVudFwiPicgKyAkZWwuaHRtbCgpICsgJzwvZGl2PicgKTtcblx0XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0XHRvbkNsb3Npbmc6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSggJycsIGRvY3VtZW50LnRpdGxlLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICk7XG5cdFx0XHRcdH0sXG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBPbiBwYWdlIGxvYWQsIG9wZW5zIGEgbW9kYWwgaWYgdGhlIFVSTCBjb250YWlucyBhbiBhY2hpZXZlbWVudCBpbiB0aGUgbG9jYXRpb24gaGFzaFxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMTQuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjE0LjBcblx0XHQgKi9cblx0XHRtYXliZV9vcGVuOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuXHRcdFx0aWYgKCBoYXNoICYmIC0xICE9PSBoYXNoLmluZGV4T2YoICdhY2hpZXZlbWVudC0nICkgKSB7XG5cdFx0XHRcdCQoICdhW2hyZWY9XCInICsgaGFzaCArICdcIl0nKS5maXJzdCgpLnRyaWdnZXIoICdjbGljaycgKTtcblx0XHRcdH1cblx0XG5cdFx0fVxuXHRcblx0fTtcblx0XG5cdC8qIGdsb2JhbCBMTE1TLCAkLCB3cF9hamF4X2RhdGEgKi9cblx0LyoganNoaW50IHN0cmljdDogZmFsc2UgKi9cblx0XG5cdC8qKlxuXHQgKiBNYWluIEFqYXggY2xhc3Ncblx0ICogSGFuZGxlcyBQcmltYXJ5IEFqYXggY29ubmVjdGlvblxuXHQgKiBAdHlwZSB7T2JqZWN0fVxuXHQgKi9cblx0TExNUy5BamF4ID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiB1cmxcblx0XHQgKiBAdHlwZSB7U3RyaW5nfVxuXHRcdCAqL1xuXHRcdHVybDogd2luZG93LmFqYXh1cmwgfHwgd2luZG93LmxsbXMuYWpheHVybCxcblx0XG5cdFx0LyoqXG5cdFx0ICogdHlwZVxuXHRcdCAqIEB0eXBlIHtbdHlwZV19XG5cdFx0ICovXG5cdFx0dHlwZTogJ3Bvc3QnLFxuXHRcblx0XHQvKipcblx0XHQgKiBkYXRhXG5cdFx0ICogQHR5cGUge1t0eXBlXX1cblx0XHQgKi9cblx0XHRkYXRhOiBbXSxcblx0XG5cdFx0LyoqXG5cdFx0ICogY2FjaGVcblx0XHQgKiBAdHlwZSB7W3R5cGVdfVxuXHRcdCAqL1xuXHRcdGNhY2hlOiBmYWxzZSxcblx0XG5cdFx0LyoqXG5cdFx0ICogZGF0YVR5cGVcblx0XHQgKiBkZWZhdWx0ZWQgdG8ganNvblxuXHRcdCAqIEB0eXBlIHtTdHJpbmd9XG5cdFx0ICovXG5cdFx0ZGF0YVR5cGU6ICdqc29uJyxcblx0XG5cdFx0LyoqXG5cdFx0ICogYXN5bmNcblx0XHQgKiBkZWZhdWx0IHRvIGZhbHNlXG5cdFx0ICogQHR5cGUge0Jvb2xlYW59XG5cdFx0ICovXG5cdFx0YXN5bmM6IHRydWUsXG5cdFxuXHRcdHJlc3BvbnNlOltdLFxuXHRcblx0XHQvKipcblx0XHQgKiBpbml0aWxpemUgQWpheCBtZXRob2RzXG5cdFx0ICogbG9hZHMgY2xhc3MgbWV0aG9kc1xuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKG9iaikge1xuXHRcblx0XHRcdC8vaWYgb2JqIGlzIG5vdCBvZiB0eXBlIG9iamVjdCBvciBudWxsIHJldHVybiBmYWxzZTtcblx0XHRcdGlmKCBvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XG5cdFx0XHQvL3NldCBvYmplY3QgZGVmYXVsdHMgaWYgdmFsdWVzIGFyZSBub3Qgc3VwcGxpZWRcblx0XHRcdG9iai51cmxcdFx0XHQ9IHRoaXMudXJsO1xuXHRcdFx0b2JqLnR5cGUgXHRcdD0gJ3R5cGUnIFx0XHRpbiBvYmogPyBvYmoudHlwZSBcdFx0OiB0aGlzLnR5cGU7XG5cdFx0XHRvYmouZGF0YSBcdFx0PSAnZGF0YScgXHRcdGluIG9iaiA/IG9iai5kYXRhIFx0XHQ6IHRoaXMuZGF0YTtcblx0XHRcdG9iai5jYWNoZSBcdFx0PSAnY2FjaGUnIFx0XHRpbiBvYmogPyBvYmouY2FjaGUgXHRcdDogdGhpcy5jYWNoZTtcblx0XHRcdG9iai5kYXRhVHlwZSBcdD0gJ2RhdGFUeXBlJ1x0aW4gb2JqID8gb2JqLmRhdGFUeXBlIFx0OiB0aGlzLmRhdGFUeXBlO1xuXHRcdFx0b2JqLmFzeW5jIFx0XHQ9ICdhc3luYydcdFx0aW4gb2JqID8gb2JqLmFzeW5jIFx0XHQ6IHRoaXMuYXN5bmM7XG5cdFxuXHRcdFx0Ly9hZGQgbm9uY2UgdG8gZGF0YSBvYmplY3Rcblx0XHRcdG9iai5kYXRhLl9hamF4X25vbmNlID0gd3BfYWpheF9kYXRhLm5vbmNlO1xuXHRcblx0XHRcdC8vYWRkIHBvc3QgaWQgdG8gZGF0YSBvYmplY3Rcblx0XHRcdHZhciAkUiA9IExMTVMuUmVzdCxcblx0XHRcdHF1ZXJ5X3ZhcnMgPSAkUi5nZXRfcXVlcnlfdmFycygpO1xuXHRcdFx0b2JqLmRhdGEucG9zdF9pZCA9ICdwb3N0JyBpbiBxdWVyeV92YXJzID8gcXVlcnlfdmFycy5wb3N0IDogbnVsbDtcblx0XHRcdGlmICggIW9iai5kYXRhLnBvc3RfaWQgJiYgJCggJ2lucHV0I3Bvc3RfSUQnICkubGVuZ3RoICkge1xuXHRcdFx0XHRvYmouZGF0YS5wb3N0X2lkID0gJCggJ2lucHV0I3Bvc3RfSUQnICkudmFsKCk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIG9iajtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBDYWxsXG5cdFx0ICogQ2FsbGVkIGJ5IGV4dGVybmFsIGNsYXNzZXNcblx0XHQgKiBTZXRzIHVwIGpRdWVyeSBBamF4IG9iamVjdFxuXHRcdCAqIEBwYXJhbSAge1tvYmplY3RdfSBbb2JqZWN0IG9mIGFqYXggc2V0dGluZ3NdXG5cdFx0ICogQHJldHVybiB7W21peGVkXX0gW2ZhbHNlIGlmIG5vdCBvYmplY3Qgb3IgdGhpc11cblx0XHQgKi9cblx0XHRjYWxsOiBmdW5jdGlvbihvYmopIHtcblx0XG5cdFx0XHQvL2dldCBkZWZhdWx0IHZhcmlhYmxlcyBpZiBub3QgaW5jbHVkZWQgaW4gY2FsbFxuXHRcdFx0dmFyIHNldHRpbmdzID0gdGhpcy5pbml0KG9iaik7XG5cdFxuXHRcdFx0Ly9pZiBpbml0IHJldHVybiBhIHJlc3BvbnNlIG9mIGZhbHNlXG5cdFx0XHRpZiAoIXNldHRpbmdzKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMucmVxdWVzdChzZXR0aW5ncyk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENhbGxzIGpRdWVyeSBBamF4IG9uIHNldHRpbmdzIG9iamVjdFxuXHRcdCAqIEByZXR1cm4ge1tvYmplY3RdfSBbdGhpc11cblx0XHQgKi9cblx0XHRyZXF1ZXN0OiBmdW5jdGlvbihzZXR0aW5ncykge1xuXHRcblx0XHRcdCQuYWpheChzZXR0aW5ncyk7XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFxuXHRcdH1cblx0XG5cdH07XG5cdFxuXHQvKiBnbG9iYWwgTExNUyAqL1xuXHQvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqL1xuXHRcblx0LyoqXG5cdCAqIENyZWF0ZSBhIERvbnV0IENoYXJ0XG5cdCAqIEBzb3VyY2UgICBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9qb2V5aW5ib3gvODIwNTk2MlxuXHQgKiBAcGFyYW0gICAgb2JqICAgJGVsICBqUXVlcnkgZWxlbWVudCB0byBkcmF3IGEgY2hhcnQgd2l0aGluXG5cdCAqIEBzaW5jZSAgICAzLjkuMFxuXHQgKiBAdmVyc2lvbiAgMy45LjBcblx0ICovXG5cdExMTVMuRG9udXQgPSBmdW5jdGlvbiggJGVsICkge1xuXHRcblx0XHRmdW5jdGlvbiBEb251dChvcHRpb25zKSB7XG5cdFxuXHRcdFx0dGhpcy5zZXR0aW5ncyA9ICQuZXh0ZW5kKCB7XG5cdFx0XHRcdGVsZW1lbnQ6IG9wdGlvbnMuZWxlbWVudCxcblx0XHRcdFx0cGVyY2VudDogMTAwXG5cdFx0XHR9LCBvcHRpb25zICk7XG5cdFxuXHRcdFx0dGhpcy5jaXJjbGUgPSB0aGlzLnNldHRpbmdzLmVsZW1lbnQuZmluZCggJ3BhdGgnICk7XG5cdFx0XHR0aGlzLnNldHRpbmdzLnN0cm9rZV93aWR0aCA9IHBhcnNlSW50KCB0aGlzLmNpcmNsZS5jc3MoICdzdHJva2Utd2lkdGgnICkgKTtcblx0XHRcdHRoaXMucmFkaXVzID0gKCBwYXJzZUludCggdGhpcy5zZXR0aW5ncy5lbGVtZW50LmNzcyggJ3dpZHRoJyApICkgLSB0aGlzLnNldHRpbmdzLnN0cm9rZV93aWR0aCApIC8gMjtcblx0XHRcdHRoaXMuYW5nbGUgPSAtOTcuNTsgLy8gT3JpZ2luIG9mIHRoZSBkcmF3IGF0IHRoZSB0b3Agb2YgdGhlIGNpcmNsZVxuXHRcdFx0dGhpcy5pID0gTWF0aC5yb3VuZCggMC43NSAqIHRoaXMuc2V0dGluZ3MucGVyY2VudCApO1xuXHRcdFx0dGhpcy5maXJzdCA9IHRydWU7XG5cdFxuXHRcdFx0dGhpcy5hbmltYXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCggdGhpcy5sb29wLmJpbmQoIHRoaXMgKSwgMTAgKTtcblx0XHRcdH07XG5cdFxuXHRcdFx0dGhpcy5sb29wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuYW5nbGUgKz0gNTtcblx0XHRcdFx0dGhpcy5hbmdsZSAlPSAzNjA7XG5cdFx0XHRcdHZhciByYWRpYW5zID0gKCB0aGlzLmFuZ2xlIC8gMTgwICkgKiBNYXRoLlBJLFxuXHRcdFx0XHRcdHggPSB0aGlzLnJhZGl1cyArIHRoaXMuc2V0dGluZ3Muc3Ryb2tlX3dpZHRoIC8gMiArIE1hdGguY29zKCByYWRpYW5zICkgKiB0aGlzLnJhZGl1cyxcblx0XHRcdFx0XHR5ID0gdGhpcy5yYWRpdXMgKyB0aGlzLnNldHRpbmdzLnN0cm9rZV93aWR0aCAvIDIgKyBNYXRoLnNpbiggcmFkaWFucyApICogdGhpcy5yYWRpdXMsXG5cdFx0XHRcdFx0ZDtcblx0XHRcdFx0aWYgKHRoaXMuZmlyc3QgPT09IHRydWUpIHtcblx0XHRcdFx0XHRkID0gdGhpcy5jaXJjbGUuYXR0ciggJ2QnICkgKyAnIE0gJyArIHggKyAnICcgKyB5O1xuXHRcdFx0XHRcdHRoaXMuZmlyc3QgPSBmYWxzZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkID0gdGhpcy5jaXJjbGUuYXR0ciggJ2QnICkgKyAnIEwgJyArIHggKyAnICcgKyB5O1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuY2lyY2xlLmF0dHIoICdkJywgZCApO1xuXHRcdFx0XHR0aGlzLmktLTtcblx0XG5cdFx0XHRcdGlmKHRoaXMuaTw9MCkge1xuXHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHRcblx0XHRmdW5jdGlvbiBkcmF3KCAkZWwgKSB7XG5cdFx0XHR2YXIgcGF0aCA9ICc8cGF0aCBkPVwiTTEwMCwxMDBcIiAvPic7XG5cdFx0XHQkZWwuYXBwZW5kKCAnPHN2ZyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWRcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIj4nICsgcGF0aCArICc8L3N2Zz4nICk7XG5cdFx0XHR2YXIgZG9udXQgPSBuZXcgRG9udXQoIHtcblx0XHRcdFx0ZWxlbWVudDogJGVsLFxuXHRcdFx0XHRwZXJjZW50OiAkZWwuYXR0cignZGF0YS1wZXJjJylcblx0XHRcdH0gKTtcblx0XHRcdGRvbnV0LmFuaW1hdGUoKTtcblx0XHR9XG5cdFxuXHRcdGRyYXcoICRlbCApO1xuXHRcblx0fTtcblx0XG5cdC8qIGdsb2JhbCBMTE1TLCAkICovXG5cdC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovXG5cdC8qKlxuXHQgKiBJbnN0cnVjdG9ycyBMaXN0XG5cdCAqL1xuXHRMTE1TLkluc3RydWN0b3JzID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBpbml0XG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdGlmICggJCggJ2JvZHknICkuaGFzQ2xhc3MoICd3cC1hZG1pbicgKSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggJCggJy5sbG1zLWluc3RydWN0b3JzJyApLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNlbGYuYmluZCgpO1xuXHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIE1ldGhvZFxuXHRcdCAqIEhhbmRsZXMgZG9tIGJpbmRpbmcgb24gbG9hZFxuXHRcdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdCQoICcubGxtcy1pbnN0cnVjdG9ycyAubGxtcy1hdXRob3InICkubWF0Y2hIZWlnaHQoKTtcblx0XG5cdFx0fSxcblx0XG5cdH07XG5cdFxuXHQvKiBnbG9iYWwgTExNUyAqL1xuXHRcblx0LyoqXG5cdCAqIExvY2FsaXphdGlvbiBmdW5jdGlvbnMgZm9yIExpZnRlckxNUyBKYXZhc2NyaXB0XG5cdCAqXG5cdCAqIEB0b2RvICB3ZSBuZWVkIG1vcmUgcm9idXN0IHRyYW5zbGF0aW9uIGZ1bmN0aW9ucyB0byBoYW5kbGUgc3ByaW50ZiBhbmQgcGx1cmFsaXphdGlvblxuXHQgKiAgICAgICAgYXQgdGhpcyBtb21lbnQgd2UgZG9uJ3QgbmVlZCB0aG9zZSBhbmQgaGF2ZW4ndCBzdHViYmVkIHRoZW0gb3V0XG5cdCAqICAgICAgICB0aG9zZSB3aWxsIGJlIGFkZGVkIHdoZW4gdGhleSdyZSBuZWVkZWRcblx0ICpcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqXG5cdCAqIEBzaW5jZSAgMi43LjNcblx0ICovXG5cdExMTVMubDEwbiA9IExMTVMubDEwbiB8fCB7fTtcblx0XG5cdExMTVMubDEwbi50cmFuc2xhdGUgPSBmdW5jdGlvbiAoIHN0cmluZyApIHtcblx0XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRpZiAoIHNlbGYuc3RyaW5nc1tzdHJpbmddICkge1xuXHRcblx0XHRcdHJldHVybiBzZWxmLnN0cmluZ3Nbc3RyaW5nXTtcblx0XG5cdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRyZXR1cm4gc3RyaW5nO1xuXHRcblx0XHR9XG5cdFxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFRyYW5zbGF0ZSBhbmQgcmVwbGFjZSBwbGFjZWhvbGRlcnMgaW4gYSBzdHJpbmdcblx0ICpcblx0ICogQGV4YW1wbGUgTExNUy5sMTBuLnJlcGxhY2UoICdUaGlzIGlzIGEgJTIkcyAlMSRzIFN0cmluZycsIHtcblx0ICogICAgICAgICAgIFx0JyUxJHMnOiAnY29vbCcsXG5cdCAqICAgIFx0XHRcdCclMiRzJzogJ3ZlcnknXG5cdCAqICAgIFx0XHR9ICk7XG5cdCAqICAgIFx0XHRPdXRwdXQ6IFwiVGhpcyBpcyBhIHZlcnkgY29vbCBTdHJpbmdcIlxuXHQgKlxuXHQgKiBAcGFyYW0gICAgc3RyaW5nICAgc3RyaW5nICAgICAgICB0ZXh0IHN0cmluZ1xuXHQgKiBAcGFyYW0gICAgb2JqZWN0ICAgcmVwbGFjZW1lbnRzICBvYmplY3QgY29udGFpbmluZyB0b2tlbiA9PiByZXBsYWNlbWVudCBwYWlyc1xuXHQgKiBAcmV0dXJuICAgc3RyaW5nXG5cdCAqIEBzaW5jZSAgICAzLjE2LjBcblx0ICogQHZlcnNpb24gIDMuMTYuMFxuXHQgKi9cblx0TExNUy5sMTBuLnJlcGxhY2UgPSBmdW5jdGlvbiggc3RyaW5nLCByZXBsYWNlbWVudHMgKSB7XG5cdFxuXHRcdHZhciBzdHIgPSB0aGlzLnRyYW5zbGF0ZSggc3RyaW5nICk7XG5cdFxuXHRcdCQuZWFjaCggcmVwbGFjZW1lbnRzLCBmdW5jdGlvbiggdG9rZW4sIHZhbHVlICkge1xuXHRcblx0XHRcdGlmICggLTEgIT09IHRva2VuLmluZGV4T2YoICdzJyApICkge1xuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG5cdFx0XHR9IGVsc2UgaWYgKCAtMSAhPT0gdG9rZW4uaW5kZXhPZiggJ2QnICkgKSB7XG5cdFx0XHRcdHZhbHVlID0gdmFsdWUgKiAxO1xuXHRcdFx0fVxuXHRcblx0XHRcdHN0ciA9IHN0ci5yZXBsYWNlKCB0b2tlbiwgdmFsdWUgKTtcblx0XG5cdFx0fSApO1xuXHRcblx0XHRyZXR1cm4gc3RyO1xuXHRcblx0fTtcblx0XG5cdC8qIGdsb2JhbCBMTE1TLCAkICovXG5cdFxuXHQvKipcblx0ICogSGFuZGxlIExlc3NvbiBQcmV2aWV3IEVsZW1lbnRzXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy4xNi4xMlxuXHQgKi9cblx0TExNUy5MZXNzb25QcmV2aWV3ID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBqUXVlcnkgb2JqZWN0IG9mIGFsbCBvdXRsaW5lcyBwcmVzZW50IG9uIHRoZSBjdXJyZW50IHNjcmVlblxuXHRcdCAqIEB0eXBlIG9ialxuXHRcdCAqL1xuXHRcdCRlbHM6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluaXRpbGl6ZVxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHR0aGlzLiRsb2NrZWQgPSAkKCAnYVtocmVmPVwiI2xsbXMtbGVzc29uLWxvY2tlZFwiXScgKTtcblx0XG5cdFx0XHRpZiAoIHRoaXMuJGxvY2tlZC5sZW5ndGggKSB7XG5cdFxuXHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCAkKCAnLmxsbXMtY291cnNlLW5hdmlnYXRpb24nICkubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0TExNUy53YWl0X2Zvcl9tYXRjaEhlaWdodCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRcdHNlbGYubWF0Y2hfaGVpZ2h0KCk7XG5cdFxuXHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIERPTSBldmVudHNcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNi4xMlxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHR0aGlzLiRsb2NrZWQub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdFx0dGhpcy4kbG9ja2VkLm9uKCAnbW91c2VlbnRlcicsIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0dmFyICR0aXAgPSAkKCB0aGlzICkuZmluZCggJy5sbG1zLXRvb2x0aXAnICk7XG5cdFx0XHRcdGlmICggISR0aXAubGVuZ3RoICkge1xuXHRcdFx0XHRcdHZhciBtc2cgPSAkKCB0aGlzICkuYXR0ciggJ2RhdGEtdG9vbHRpcC1tc2cnICk7XG5cdFx0XHRcdFx0aWYgKCAhbXNnICkge1xuXHRcdFx0XHRcdFx0bXNnID0gTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1lvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGlzIGNvbnRlbnQnICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCR0aXAgPSBzZWxmLmdldF90b29sdGlwKCBtc2cgKTtcblx0XHRcdFx0XHQkKCB0aGlzICkuYXBwZW5kKCAkdGlwICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0JHRpcC5hZGRDbGFzcyggJ3Nob3cnICk7XG5cdFx0XHRcdH0sIDEwICk7XG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHRcdHRoaXMuJGxvY2tlZC5vbiggJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdHZhciAkdGlwID0gJCggdGhpcyApLmZpbmQoICcubGxtcy10b29sdGlwJyApO1xuXHRcdFx0XHQkdGlwLnJlbW92ZUNsYXNzKCAnc2hvdycgKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIE1hdGNoIHRoZSBoZWlnaHQgb2YgbGVzc29uIHByZXZpZXcgaXRlbXMgaW4gY291cnNlIG5hdmlnYXRpb24gYmxvY2tzXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHRtYXRjaF9oZWlnaHQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdCQoICcubGxtcy1jb3Vyc2UtbmF2aWdhdGlvbiAubGxtcy1sZXNzb24tbGluaycgKS5tYXRjaEhlaWdodCgpO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBHZXQgYSB0b29sdGlwIGVsZW1lbnRcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgbXNnICAgbWVzc2FnZSB0byBkaXNwbGF5IGluc2lkZSB0aGUgdG9vbHRpcFxuXHRcdCAqIEByZXR1cm4gICBvYmpcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4yLjRcblx0XHQgKi9cblx0XHRnZXRfdG9vbHRpcDogZnVuY3Rpb24oIG1zZyApIHtcblx0XHRcdHZhciAkZWwgPSAkKCAnPGRpdiBjbGFzcz1cImxsbXMtdG9vbHRpcFwiIC8+JyApO1xuXHRcdFx0JGVsLmFwcGVuZCggJzxkaXYgY2xhc3M9XCJsbG1zLXRvb2x0aXAtY29udGVudFwiPicgKyBtc2cgKyAnPC9kaXY+JyApO1xuXHRcdFx0cmV0dXJuICRlbDtcblx0XHR9LFxuXHRcblx0fTtcblx0XG5cdC8qIGdsb2JhbCBMTE1TLCAkICovXG5cdFxuXHQvKipcblx0ICogTGlmdGVyTE1TIExvb3BzIEpTXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgW3ZlcnNpbm9dXG5cdCAqL1xuXHRMTE1TLkxvb3BzID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBJbml0aWxpemVcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0aWYgKCAkKCAnLmxsbXMtbG9vcCcgKS5sZW5ndGggKSB7XG5cdFxuXHRcdFx0XHRMTE1TLndhaXRfZm9yX21hdGNoSGVpZ2h0KCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdFx0c2VsZi5tYXRjaF9oZWlnaHQoKTtcblx0XG5cdFx0XHRcdH0gKTtcblx0XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIE1hdGNoIHRoZSBoZWlnaHQgb2YgLmxsbXMtbG9vcC1pdGVtXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdFx0ICovXG5cdFx0bWF0Y2hfaGVpZ2h0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHQkKCAnLmxsbXMtbG9vcC1pdGVtIC5sbG1zLWxvb3AtaXRlbS1jb250ZW50JyApLm1hdGNoSGVpZ2h0KCk7XG5cdFx0XHQkKCAnLmxsbXMtYWNoaWV2ZW1lbnQtbG9vcC1pdGVtIC5sbG1zLWFjaGlldmVtZW50JyApLm1hdGNoSGVpZ2h0KCk7XG5cdFx0XHQkKCAnLmxsbXMtY2VydGlmaWNhdGUtbG9vcC1pdGVtIC5sbG1zLWNlcnRpZmljYXRlJyApLm1hdGNoSGVpZ2h0KCk7XG5cdFxuXHRcdH0sXG5cdFxuXHR9O1xuXHRcblx0LyogZ2xvYmFsIExMTVMsICQgKi9cblx0XG5cdC8qKlxuXHQgKiBIYW5kbGUgdGhlIENvbGxwYXNpYmxlIFN5bGxhYnVzIFdpZGdldCAvIFNob3J0Y29kZVxuXHQgKi9cblx0TExNUy5PdXRsaW5lQ29sbGFwc2UgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIGpRdWVyeSBvYmplY3Qgb2YgYWxsIG91dGxpbmVzIHByZXNlbnQgb24gdGhlIGN1cnJlbnQgc2NyZWVuXG5cdFx0ICogQHR5cGUgb2JqXG5cdFx0ICovXG5cdFx0JG91dGxpbmVzOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBJbml0aWxpemVcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR0aGlzLiRvdXRsaW5lcyA9ICQoICcubGxtcy13aWRnZXQtc3lsbGFidXMtLWNvbGxhcHNpYmxlJyApO1xuXHRcblx0XHRcdGlmICggdGhpcy4kb3V0bGluZXMubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0dGhpcy5iaW5kKCk7XG5cdFxuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIERPTSBldmVudHNcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKi9cblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0dGhpcy4kb3V0bGluZXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHR2YXIgJG91dGxpbmUgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JGhlYWRlcnMgPSAkb3V0bGluZS5maW5kKCAnLmxsbXMtc2VjdGlvbiAuc2VjdGlvbi1oZWFkZXInICk7XG5cdFxuXHRcdFx0XHQvLyBiaW5kIGhlYWRlciBjbGlja3Ncblx0XHRcdFx0JGhlYWRlcnMub24oICdjbGljaycsIGZ1bmN0aW9uKCBlICkge1xuXHRcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHRcdFx0XHRcdHZhciAkdG9nZ2xlID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdFx0JHNlY3Rpb24gPSAkdG9nZ2xlLmNsb3Nlc3QoICcubGxtcy1zZWN0aW9uJyApLFxuXHRcdFx0XHRcdFx0c3RhdGUgPSBzZWxmLmdldF9zZWN0aW9uX3N0YXRlKCAkc2VjdGlvbiApO1xuXHRcblx0XHRcdFx0XHRzd2l0Y2goIHN0YXRlICkge1xuXHRcblx0XHRcdFx0XHRcdGNhc2UgJ2Nsb3NlZCc6XG5cdFx0XHRcdFx0XHRcdHNlbGYub3Blbl9zZWN0aW9uKCAkc2VjdGlvbiApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFxuXHRcdFx0XHRcdFx0Y2FzZSAnb3BlbmVkJzpcblx0XHRcdFx0XHRcdFx0c2VsZi5jbG9zZV9zZWN0aW9uKCAkc2VjdGlvbiApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdH0gKTtcblx0XG5cdFx0XHRcdC8vIGJpbmQgb3B0aW9uYWwgdG9nZ2xlIFwiYnV0dG9uc1wiXG5cdFx0XHRcdCRvdXRsaW5lLmZpbmQoICcubGxtcy1jb2xsYXBzZS10b2dnbGUnICkub24oICdjbGljaycsIGZ1bmN0aW9uKCBlICkge1xuXHRcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHRcdFx0XHRcdHZhciAkYnRuID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdFx0YWN0aW9uID0gJGJ0bi5hdHRyKCAnZGF0YS1hY3Rpb24nICksXG5cdFx0XHRcdFx0XHRvcHBvc2l0ZV9hY3Rpb24gPSAoICdjbG9zZScgPT09IGFjdGlvbiApID8gJ29wZW5lZCcgOiAnY2xvc2VkJztcblx0XG5cdFx0XHRcdFx0JGhlYWRlcnMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRcdFx0dmFyICRzZWN0aW9uID0gJCggdGhpcyApLmNsb3Nlc3QoICcubGxtcy1zZWN0aW9uJyApLFxuXHRcdFx0XHRcdFx0XHRzdGF0ZSA9IHNlbGYuZ2V0X3NlY3Rpb25fc3RhdGUoICRzZWN0aW9uICk7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKCBvcHBvc2l0ZV9hY3Rpb24gIT09IHN0YXRlICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRzd2l0Y2goIHN0YXRlICkge1xuXHRcblx0XHRcdFx0XHRcdFx0Y2FzZSAnY2xvc2VkJzpcblx0XHRcdFx0XHRcdFx0XHRzZWxmLmNsb3NlX3NlY3Rpb24oICRzZWN0aW9uICk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcblx0XHRcdFx0XHRcdFx0Y2FzZSAnb3BlbmVkJzpcblx0XHRcdFx0XHRcdFx0XHRzZWxmLm9wZW5fc2VjdGlvbiggJHNlY3Rpb24gKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFxuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdCQoIHRoaXMgKS50cmlnZ2VyKCAnY2xpY2snICk7XG5cdFxuXHRcdFx0XHRcdH0gKTtcblx0XG5cdFx0XHRcdH0gKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENsb3NlIGFuIG91dGxpbmUgc2VjdGlvblxuXHRcdCAqIEBwYXJhbSAgb2JqICAgICRzZWN0aW9uICAgalF1ZXJ5IHNlbGVjdG9yIG9mIGEgJy5sbG1zLXNlY3Rpb24nXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICovXG5cdFx0Y2xvc2Vfc2VjdGlvbjogZnVuY3Rpb24oICRzZWN0aW9uICkge1xuXHRcblx0XHRcdCRzZWN0aW9uLnJlbW92ZUNsYXNzKCAnbGxtcy1zZWN0aW9uLS1vcGVuZWQnICkuYWRkQ2xhc3MoICdsbG1zLXNlY3Rpb24tLWNsb3NlZCcgKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogT3BlbiBhbiBvdXRsaW5lIHNlY3Rpb25cblx0XHQgKiBAcGFyYW0gIG9iaiAgICAkc2VjdGlvbiAgIGpRdWVyeSBzZWxlY3RvciBvZiBhICcubGxtcy1zZWN0aW9uJ1xuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdG9wZW5fc2VjdGlvbjogZnVuY3Rpb24oICRzZWN0aW9uICkge1xuXHRcblx0XHRcdCRzZWN0aW9uLnJlbW92ZUNsYXNzKCAnbGxtcy1zZWN0aW9uLS1jbG9zZWQnICkuYWRkQ2xhc3MoICdsbG1zLXNlY3Rpb24tLW9wZW5lZCcgKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0IHRoZSBjdXJyZW50IHN0YXRlIChvcGVuIG9yIGNsb3NlZCkgb2YgYW4gb3V0bGluZSBzZWN0aW9uXG5cdFx0ICogQHBhcmFtICBvYmogICAgJHNlY3Rpb24gICBqUXVlcnkgc2VsZWN0b3Igb2YgYSAnLmxsbXMtc2VjdGlvbidcblx0XHQgKiBAcmV0dXJuIHN0cmluZyAgICAgICAgICAgICdvcGVuZWQnIG9yICdjbG9zZWQnXG5cdFx0ICovXG5cdFx0Z2V0X3NlY3Rpb25fc3RhdGU6IGZ1bmN0aW9uKCAkc2VjdGlvbiApIHtcblx0XG5cdFx0XHRyZXR1cm4gJHNlY3Rpb24uaGFzQ2xhc3MoICdsbG1zLXNlY3Rpb24tLW9wZW5lZCcgKSA/ICdvcGVuZWQnIDogJ2Nsb3NlZCc7XG5cdFxuXHRcdH1cblx0XG5cdH07XG5cdFxuXHQvKiBnbG9iYWwgTExNUywgJCwgd3AgKi9cblx0LyoganNoaW50IHN0cmljdDogZmFsc2UgKi9cblx0XG5cdC8qKlxuXHQgKiBIYW5kbGUgUGFzc3dvcmQgU3RyZW5ndGggTWV0ZXIgZm9yIHJlZ2lzdHJhdGlvbiBhbmQgcGFzc3dvcmQgdXBkYXRlIGZpZWxkc1xuXHQgKiBAc2luY2UgMy4wLjBcblx0ICogQHZlcnNpb24gIDMuNy4wXG5cdCAqL1xuXHRcblx0JC5leHRlbmQoIExMTVMuUGFzc3dvcmRTdHJlbmd0aCwge1xuXHRcblx0XHQkcGFzczogJCggJy5sbG1zLXBhc3N3b3JkJyApLFxuXHRcdCRjb25mOiAkKCAnLmxsbXMtcGFzc3dvcmQtY29uZmlybScgKSxcblx0XHQkbWV0ZXI6ICQoICcubGxtcy1wYXNzd29yZC1zdHJlbmd0aC1tZXRlcicgKSxcblx0XHQkZm9ybTogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogaW5pdFxuXHRcdCAqIGxvYWRzIGNsYXNzIG1ldGhvZHNcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy43LjBcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRpZiAoICQoICdib2R5JyApLmhhc0NsYXNzKCAnd3AtYWRtaW4nICkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIHRoaXMuJG1ldGVyLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdHRoaXMuJGZvcm0gPSB0aGlzLiRwYXNzLmNsb3Nlc3QoICdmb3JtJyApO1xuXHRcblx0XHRcdFx0Ly8gb3VyIGFzc2V0IGVucXVldWUgaXMgYWxsIHNjcmV3ZWQgdXAgYW5kIEknbSB0b28gdGlyZWQgdG8gZml4IGl0XG5cdFx0XHRcdC8vIHNvIHdlJ3JlIGdvaW5nIHRvIHJ1biB0aGlzIGxpdHRsZSBkZXBlbmRlbmN5IGNoZWNrXG5cdFx0XHRcdC8vIGFuZCB3YWl0IGZvciBtYXRjaEhlaWdodCB0byBiZSBhdmFpbGFibGUgYmVmb3JlIGJpbmRpbmdcblx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRcdGNvdW50ZXIgPSAwLFxuXHRcdFx0XHRcdGludGVydmFsO1xuXHRcblx0XHRcdFx0aW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRcdC8vIGlmIHdlIGdldCB0byAzMCBzZWNvbmRzIGxvZyBhbiBlcnJvciBtZXNzYWdlXG5cdFx0XHRcdFx0Ly8gYW5kIHJlYWxseSB3aG8gY2FyZXMgaWYgdGhlIGVsZW1lbnQgaGVpZ2h0cyBhcmVuJ3QgbWF0Y2hlZFxuXHRcdFx0XHRcdGlmICggY291bnRlciA+PSAzMDAgKSB7XG5cdFxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coICdjYW5ub3QgZG8gcGFzc3dvcmQgc3RyZW5ndGggbWV0ZXIuJyk7XG5cdFxuXHRcdFx0XHRcdC8vIGlmIHdlIGNhbid0IGFjY2VzcyB5ZSwgaW5jcmVtZW50IGFuZCB3YWl0Li4uXG5cdFx0XHRcdFx0fSBlbHNlIGlmICggJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiB3cCAmJiAndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHdwLnBhc3N3b3JkU3RyZW5ndGggKSB7XG5cdFxuXHRcdFx0XHRcdFx0Y291bnRlcisrO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcblx0XHRcdFx0XHQvLyBiaW5kIHRoZSBldmVudHMsIHdlJ3JlIGdvb2QhXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XHRcdFx0XHRcdHNlbGYuJGZvcm0udHJpZ2dlciggJ2xsbXMtcGFzc3dvcmQtc3RyZW5ndGgtcmVhZHknICk7XG5cdFxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbCggaW50ZXJ2YWwgKTtcblx0XG5cdFx0XHRcdH0sIDEwMCApO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBNZXRob2Rcblx0XHQgKiBIYW5kbGVzIGRvbSBiaW5kaW5nIG9uIGxvYWRcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKiBAc2luY2UgMy4wLjBcblx0XHQgKi9cblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0Ly8gYWRkIHN1Ym1pc3Npb24gZXZlbnQgaGFuZGxlcnMgd2hlbiBub3Qgb24gYSBjaGVja291dCBmb3JtXG5cdFx0XHRpZiAoICF0aGlzLiRmb3JtLmhhc0NsYXNzKCAnbGxtcy1jaGVja291dCcgKSApIHtcblx0XHRcdFx0dGhpcy4kZm9ybS5vbiggJ3N1Ym1pdCcsIHNlbGYsIHNlbGYuc3VibWl0ICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gY2hlY2sgcGFzc3dvcmQgc3RyZW5ndGggb24ga2V5dXBcblx0XHRcdHNlbGYuJHBhc3MuYWRkKCBzZWxmLiRjb25mICkub24oICdrZXl1cCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmNoZWNrX3N0cmVuZ3RoKCk7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENoZWNrIHRoZSBzdHJlbmd0aCBvZiBhIHVzZXIgZW50ZXJlZCBwYXNzd29yZFxuXHRcdCAqIGFuZCB1cGRhdGUgZWxlbWVudHMgZGVwZW5kaW5nIG9uIHRoZSBjdXJyZW50IHN0cmVuZ3RoXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICogQHNpbmNlIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gMy4wLjBcblx0XHQgKi9cblx0XHRjaGVja19zdHJlbmd0aDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyICRwYXNzX2ZpZWxkID0gdGhpcy4kcGFzcy5jbG9zZXN0KCAnLmxsbXMtZm9ybS1maWVsZCcgKSxcblx0XHRcdFx0JGNvbmZfZmllbGQgPSB0aGlzLiRjb25mLmNsb3Nlc3QoICcubGxtcy1mb3JtLWZpZWxkJyApLFxuXHRcdFx0XHRwYXNzX2xlbmd0aCA9IHRoaXMuJHBhc3MudmFsKCkubGVuZ3RoLFxuXHRcdFx0XHRjb25mX2xlbmd0aCA9IHRoaXMuJGNvbmYudmFsKCkubGVuZ3RoO1xuXHRcblx0XHRcdC8vIGhpZGUgdGhlIG1ldGVyIGlmIGJvdGggZmllbGRzIGFyZSBlbXB0eVxuXHRcdFx0aWYgKCAhcGFzc19sZW5ndGggJiYgIWNvbmZfbGVuZ3RoICkge1xuXHRcdFx0XHQkcGFzc19maWVsZC5yZW1vdmVDbGFzcyggJ3ZhbGlkIGludmFsaWQnICk7XG5cdFx0XHRcdCRjb25mX2ZpZWxkLnJlbW92ZUNsYXNzKCAndmFsaWQgaW52YWxpZCcgKTtcblx0XHRcdFx0dGhpcy4kbWV0ZXIuaGlkZSgpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCB0aGlzLmdldF9jdXJyZW50X3N0cmVuZ3RoX3N0YXR1cygpICkge1xuXHRcdFx0XHQkcGFzc19maWVsZC5yZW1vdmVDbGFzcyggJ2ludmFsaWQnICkuYWRkQ2xhc3MoICd2YWxpZCcgKTtcblx0XHRcdFx0aWYgKCBjb25mX2xlbmd0aCApIHtcblx0XHRcdFx0XHQkY29uZl9maWVsZC5yZW1vdmVDbGFzcyggJ2ludmFsaWQnICkuYWRkQ2xhc3MoICd2YWxpZCcgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JHBhc3NfZmllbGQucmVtb3ZlQ2xhc3MoICd2YWxpZCcgKS5hZGRDbGFzcyggJ2ludmFsaWQnICk7XG5cdFx0XHRcdGlmICggY29uZl9sZW5ndGggKSB7XG5cdFx0XHRcdFx0JGNvbmZfZmllbGQucmVtb3ZlQ2xhc3MoICd2YWxpZCcgKS5hZGRDbGFzcyggJ2ludmFsaWQnICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHR0aGlzLiRtZXRlci5yZW1vdmVDbGFzcyggJ3Rvby1zaG9ydCB2ZXJ5LXdlYWsgd2VhayBtZWRpdW0gc3Ryb25nIG1pc21hdGNoJyApO1xuXHRcdFx0dGhpcy4kbWV0ZXIuc2hvdygpLmFkZENsYXNzKCB0aGlzLmdldF9jdXJyZW50X3N0cmVuZ3RoKCAnc2x1ZycgKSApO1xuXHRcdFx0dGhpcy4kbWV0ZXIuaHRtbCggdGhpcy5nZXRfY3VycmVudF9zdHJlbmd0aCggJ3RleHQnICkgKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogZm9ybSBzdWJtaXNzaW9uIGFjdGlvbiBjYWxsZWQgZHVyaW5nIHJlZ2lzdHJhdGlvbiBvbiBjaGVja291dCBzY3JlZW5cblx0XHQgKiBAcGFyYW0gICAgb2JqICAgICAgIHNlbGYgICAgICBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzXG5cdFx0ICogQHBhcmFtICAgIEZ1bmN0aW9uICBjYWxsYmFjayAgY2FsbGJhY2sgZnVuY3Rpb24sIHBhc3NlcyBlcnJvciBtZXNzYWdlIG9yIHN1Y2Nlc3MgYmFjayB0byBjaGVja291dCBoYW5kbGVyXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHRjaGVja291dDogZnVuY3Rpb24oIHNlbGYsIGNhbGxiYWNrICkge1xuXHRcblx0XHRcdGlmICggc2VsZi5nZXRfY3VycmVudF9zdHJlbmd0aF9zdGF0dXMoKSApIHtcblx0XG5cdFx0XHRcdGNhbGxiYWNrKCB0cnVlICk7XG5cdFxuXHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdGNhbGxiYWNrKCBMTE1TLmwxMG4udHJhbnNsYXRlKCAnVGhlcmUgaXMgYW4gaXNzdWUgd2l0aCB5b3VyIGNob3NlbiBwYXNzd29yZC4nICkgKTtcblx0XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEdldCB0aGUgbGlzdCBvZiBibGFja2xpc3RlZCBzdHJpbmdzXG5cdFx0ICogV2UnbGwgYWRkIGEgZmlsdGVyIHRvIHRoaXMgbGF0ZXIgc28gdGhhdCBkZXZlbG9wZXJzIGNhbiBhZGQgdGhlaXIgb3duIGJsYWNrbGlzdCB0byB0aGUgZGVmYXVsdCBXUCBsaXN0XG5cdFx0ICogQHJldHVybiBhcnJheVxuXHRcdCAqIEBzaW5jZSAzLjAuMFxuXHRcdCAqL1xuXHRcdGdldF9ibGFja2xpc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGJsYWNrbGlzdCA9IHdwLnBhc3N3b3JkU3RyZW5ndGgudXNlcklucHV0QmxhY2tsaXN0KCk7XG5cdFx0XHRyZXR1cm4gYmxhY2tsaXN0O1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJldHJpZXZlIGN1cnJlbnQgc3RyZW5ndGggYXMgYSBudW1iZXIsIGEgc2x1Zywgb3IgYSB0cmFuc2xhdGVkIHRleHQgc3RyaW5nXG5cdFx0ICogQHBhcmFtICAgIHN0cmluZyAgIGZvcm1hdCAgZGVyaWZlZCByZXR1cm4gZm9ybWF0IFtpbnR8c2x1Z3x0ZXh0XSBkZWZhdWx0cyB0byBpbnRcblx0XHQgKiBAcmV0dXJuICAgbWl4ZWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHRnZXRfY3VycmVudF9zdHJlbmd0aDogZnVuY3Rpb24oIGZvcm1hdCApIHtcblx0XG5cdFx0XHRmb3JtYXQgPSBmb3JtYXQgfHwgJ2ludCc7XG5cdFx0XHR2YXIgcGFzcyA9IHRoaXMuJHBhc3MudmFsKCksXG5cdFx0XHRcdGNvbmYgPSB0aGlzLiRjb25mLnZhbCgpLFxuXHRcdFx0XHR2YWw7XG5cdFxuXHRcdFx0Ly8gZW5mb3JjZSBjdXN0b20gbGVuZ3RoIHJlcXVpcmVtZW50XG5cdFx0XHRpZiAoIHBhc3MubGVuZ3RoIDwgNiApIHtcblx0XHRcdFx0dmFsID0gLTE7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWwgPSB3cC5wYXNzd29yZFN0cmVuZ3RoLm1ldGVyKCBwYXNzLCB0aGlzLmdldF9ibGFja2xpc3QoKSwgY29uZiApO1xuXHRcdFx0XHQvLyAwICYgMSBhcmUgYm90aCB2ZXJ5LXdlYWtcblx0XHRcdFx0aWYgKCAwID09PSB2YWwgKSB7XG5cdFx0XHRcdFx0dmFsID0gMTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggJ3NsdWcnID09PSBmb3JtYXQgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmdldF9zdHJlbmd0aF9zbHVnKCB2YWwgKTtcblx0XHRcdH0gZWxzZSBpZiAoICd0ZXh0JyA9PT0gZm9ybWF0ICkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZXRfc3RyZW5ndGhfdGV4dCggdmFsICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gdmFsO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIERldGVybWluZXMgaWYgdGhlIGN1cnJlbnQgcGFzc3dvcmQgc3RyZW5ndGggbWVldHMgdGhlIHVzZXItZGVmaW5lZFxuXHRcdCAqIG1pbmltdW0gcGFzc3dvcmQgc3RyZW5ndGggcmVxdWlyZW1lbnRzXG5cdFx0ICogQHJldHVybiAgIGJvb2xlYW5cblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHRnZXRfY3VycmVudF9zdHJlbmd0aF9zdGF0dXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGN1cnIgPSB0aGlzLmdldF9jdXJyZW50X3N0cmVuZ3RoKCksXG5cdFx0XHRcdG1pbiA9IHRoaXMuZ2V0X3N0cmVuZ3RoX3ZhbHVlKCB0aGlzLmdldF9taW5pbXVtX3N0cmVuZ3RoKCkgKTtcblx0XHRcdHJldHVybiAoIDUgPT09IGN1cnIgKSA/IGZhbHNlIDogKCBjdXJyID49IG1pbiApO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEdldCB0aGUgc2x1ZyBhc3NvY2lhdGVkIHdpdGggYSBzdHJlbmd0aCB2YWx1ZVxuXHRcdCAqIEBwYXJhbSAgICBpbnQgICBzdHJlbmd0aF92YWwgIHN0cmVuZ3RoIHZhbHVlIG51bWJlclxuXHRcdCAqIEByZXR1cm4gICBzdHJpbmdcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHRnZXRfc3RyZW5ndGhfc2x1ZzogZnVuY3Rpb24oIHN0cmVuZ3RoX3ZhbCApIHtcblx0XG5cdFx0XHR2YXIgc2x1Z3MgPSB7XG5cdFx0XHRcdCctMSc6ICd0b28tc2hvcnQnLFxuXHRcdFx0XHQxOiAndmVyeS13ZWFrJyxcblx0XHRcdFx0MjogJ3dlYWsnLFxuXHRcdFx0XHQzOiAnbWVkaXVtJyxcblx0XHRcdFx0NDogJ3N0cm9uZycsXG5cdFx0XHRcdDU6ICdtaXNtYXRjaCcsXG5cdFx0XHR9O1xuXHRcblx0XHRcdHJldHVybiAoIHNsdWdzWyBzdHJlbmd0aF92YWwgXSApID8gc2x1Z3NbIHN0cmVuZ3RoX3ZhbCBdIDogc2x1Z3NbNV07XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEdldHMgdGhlIHRyYW5zbGF0ZWQgdGV4dCBhc3NvY2lhdGVkIHdpdGggYSBzdHJlbmd0aCB2YWx1ZVxuXHRcdCAqIEBwYXJhbSAgICBpbnQgIHN0cmVuZ3RoX3ZhbCAgc3RyZW5ndGggdmFsdWVcblx0XHQgKiBAcmV0dXJuICAgc3RyaW5nXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0Z2V0X3N0cmVuZ3RoX3RleHQ6IGZ1bmN0aW9uKCBzdHJlbmd0aF92YWwgKSB7XG5cdFxuXHRcdFx0dmFyIHRleHRzID0ge1xuXHRcdFx0XHQnLTEnOiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnVG9vIFNob3J0JyApLFxuXHRcdFx0XHQxOiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnVmVyeSBXZWFrJyApLFxuXHRcdFx0XHQyOiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnV2VhaycgKSxcblx0XHRcdFx0MzogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ01lZGl1bScgKSxcblx0XHRcdFx0NDogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1N0cm9uZycgKSxcblx0XHRcdFx0NTogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ01pc21hdGNoJyApLFxuXHRcdFx0fTtcblx0XG5cdFx0XHRyZXR1cm4gKCB0ZXh0c1sgc3RyZW5ndGhfdmFsIF0gKSA/IHRleHRzWyBzdHJlbmd0aF92YWwgXSA6IHRleHRzWzVdO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBHZXQgdGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBhIHN0cmVuZ3RoIHNsdWdcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgc3RyZW5ndGhfc2x1ZyAgYSBzdHJlbmd0aCBzbHVnXG5cdFx0ICogQHJldHVybiAgIGludFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdGdldF9zdHJlbmd0aF92YWx1ZTogZnVuY3Rpb24oIHN0cmVuZ3RoX3NsdWcgKSB7XG5cdFxuXHRcdFx0dmFyIHZhbHVlcyA9IHtcblx0XHRcdFx0J3Rvby1zaG9ydCc6IC0xLFxuXHRcdFx0XHQndmVyeS13ZWFrJzogMSxcblx0XHRcdFx0d2VhazogMixcblx0XHRcdFx0bWVkaXVtOiAzLFxuXHRcdFx0XHRzdHJvbmc6IDQsXG5cdFx0XHRcdG1pc21hdGNoOiA1LFxuXHRcdFx0fTtcblx0XG5cdFx0XHRyZXR1cm4gKCB2YWx1ZXNbIHN0cmVuZ3RoX3NsdWcgXSApID8gdmFsdWVzWyBzdHJlbmd0aF9zbHVnIF0gOiB2YWx1ZXMubWlzbWF0Y2g7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEZvcm0gc3VibWlzc2lvbiBoYW5kbGVyIGZvciByZWdpc3RyYXRpb24gYW5kIHVwZGF0ZSBmb3Jtc1xuXHRcdCAqIEBwYXJhbSAgICBvYmogICAgZSAgICAgICAgIGV2ZW50IGRhdGFcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdHN1Ym1pdDogZnVuY3Rpb24oIGUgKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSBlLmRhdGE7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRzZWxmLiRwYXNzLnRyaWdnZXIoICdrZXl1cCcgKTtcblx0XG5cdFx0XHRpZiAoIHNlbGYuZ2V0X2N1cnJlbnRfc3RyZW5ndGhfc3RhdHVzKCkgKSB7XG5cdFx0XHRcdHNlbGYuJGZvcm0ub2ZmKCAnc3VibWl0Jywgc2VsZi5zdWJtaXQgKTtcblx0XHRcdFx0c2VsZi4kZm9ybS50cmlnZ2VyKCAnc3VibWl0JyApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JCggJ2h0bWwsIGJvZHknICkuYW5pbWF0ZSgge1xuXHRcdFx0XHRcdHNjcm9sbFRvcDogc2VsZi4kbWV0ZXIub2Zmc2V0KCkudG9wIC0gMTAwLFxuXHRcdFx0XHR9LCAyMDAgKTtcblx0XHRcdFx0c2VsZi4kbWV0ZXIuaGlkZSgpO1xuXHRcdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLiRtZXRlci5mYWRlSW4oIDQwMCApO1xuXHRcdFx0XHR9LCAyMjAgKTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHR9ICk7XG5cdFxuXHQvKiBnbG9iYWwgTExNUywgJCAqL1xuXHQvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqL1xuXHQvKipcblx0ICogUHJpY2luZyBUYWJsZSBVSVxuXHQgKi9cblx0TExNUy5QcmljaW5nX1RhYmxlcyA9IHtcblx0XG5cdFx0LyoqXG5cdFx0ICogaW5pdFxuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHRpZiAoICQoICdib2R5JyApLmhhc0NsYXNzKCAnd3AtYWRtaW4nICkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoICQoICcubGxtcy1hY2Nlc3MtcGxhbnMnICkubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0TExNUy53YWl0X2Zvcl9tYXRjaEhlaWdodCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c2VsZi5iaW5kKCk7XG5cdFx0XHRcdH0gKTtcblx0XG5cdFx0XHRcdHRoaXMuJGxvY2tlZCA9ICQoICdhW2hyZWY9XCIjbGxtcy1wbGFuLWxvY2tlZFwiXScgKTtcblx0XG5cdFx0XHRcdGlmICggdGhpcy4kbG9ja2VkLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdFx0TExNUy53YWl0X2Zvcl9wb3BvdmVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHNlbGYuYmluZF9sb2NrZWQoKTtcblx0XHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIE1ldGhvZFxuXHRcdCAqIEhhbmRsZXMgZG9tIGJpbmRpbmcgb24gbG9hZFxuXHRcdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdCQoICcubGxtcy1hY2Nlc3MtcGxhbi1jb250ZW50JyApLm1hdGNoSGVpZ2h0KCk7XG5cdFx0XHQkKCAnLmxsbXMtYWNjZXNzLXBsYW4tcHJpY2luZy50cmlhbCcgKS5tYXRjaEhlaWdodCgpO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBTZXR1cCBhIHBvcG92ZXIgZm9yIG1lbWJlcnMtb25seSByZXN0cmljdGVkIHBsYW5zXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuOS4xXG5cdFx0ICovXG5cdFx0YmluZF9sb2NrZWQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHRoaXMuJGxvY2tlZC5lYWNoKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdCQoIHRoaXMgKS53ZWJ1aVBvcG92ZXIoIHtcblx0XHRcdFx0XHRhbmltYXRpb246ICdwb3AnLFxuXHRcdFx0XHRcdGNsb3NlYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRjb250ZW50OiBmdW5jdGlvbiggZSApIHtcblx0XHRcdFx0XHRcdHZhciAkY29udGVudCA9ICQoICc8ZGl2IGNsYXNzPVwibGxtcy1tZW1iZXJzLW9ubHktcmVzdHJpY3Rpb25zXCIgLz4nICk7XG5cdFx0XHRcdFx0XHQkY29udGVudC5hcHBlbmQoIGUuJGVsZW1lbnQuY2xvc2VzdCggJy5sbG1zLWFjY2Vzcy1wbGFuJyApLmZpbmQoICcubGxtcy1hY2Nlc3MtcGxhbi1yZXN0cmljdGlvbnMgdWwnICkuY2xvbmUoKSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuICRjb250ZW50O1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0cGxhY2VtZW50OiAndG9wJyxcblx0XHRcdFx0XHRzdHlsZTogJ2ludmVyc2UnLFxuXHRcdFx0XHRcdHRpdGxlOiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnTWVtYmVycyBPbmx5IFByaWNpbmcnICksXG5cdFx0XHRcdFx0d2lkdGg6ICcyODBweCcsXG5cdFx0XHRcdH0gKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHR9O1xuXHRcblx0LyogZ2xvYmFsIExMTVMsICQsIGpRdWVyeSAqL1xuXHQvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqL1xuXHQvKmpzaGludCAtVzAyMCAqL1xuXHRcblx0TExNUy5SZXZpZXcgPSB7XG5cdFx0LyoqXG5cdFx0ICogaW5pdFxuXHRcdCAqIGxvYWRzIGNsYXNzIG1ldGhvZHNcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpXG5cdFx0e1xuXHRcdFx0Ly8gY29uc29sZS5sb2coJ0luaXRpYWxpemluZyBSZXZpZXcgJyk7XG5cdFx0XHR0aGlzLmJpbmQoKTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBUaGlzIGZ1bmN0aW9uIGJpbmRzIGFjdGlvbnMgdG8gdGhlIGFwcHJvcHJpYXRlIGhvb2tzXG5cdFx0ICovXG5cdFx0YmluZDogZnVuY3Rpb24oKVxuXHRcdHtcblx0XHRcdCQoJyNsbG1zX3Jldmlld19zdWJtaXRfYnV0dG9uJykuY2xpY2soZnVuY3Rpb24oKVxuXHRcdFx0e1xuXHRcdFx0XHRpZiAoJCgnI3Jldmlld190aXRsZScpLnZhbCgpICE9PSAnJyAmJiAkKCcjcmV2aWV3X3RleHQnKS52YWwoKSAhPT0gJycpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRqUXVlcnkuYWpheCh7XG5cdFx0XHQgICAgICAgICAgICB0eXBlIDogJ3Bvc3QnLFxuXHRcdFx0ICAgICAgICAgICAgZGF0YVR5cGUgOiAnanNvbicsXG5cdFx0XHQgICAgICAgICAgICB1cmwgOiB3aW5kb3cubGxtcy5hamF4dXJsLFxuXHRcdFx0ICAgICAgICAgICAgZGF0YSA6IHtcblx0XHRcdCAgICAgICAgICAgIFx0YWN0aW9uIDogJ0xMTVNTdWJtaXRSZXZpZXcnLFxuXHRcdFx0ICAgICAgICAgICAgICAgIHJldmlld190aXRsZTogJCgnI3Jldmlld190aXRsZScpLnZhbCgpLFxuXHRcdFx0ICAgICAgICAgICAgICAgIHJldmlld190ZXh0OiAkKCcjcmV2aWV3X3RleHQnKS52YWwoKSxcblx0XHRcdCAgICAgICAgICAgICAgICBwYWdlSUQgOiAkKCcjcG9zdF9JRCcpLnZhbCgpXG5cdFx0XHQgICAgICAgICAgICB9LFxuXHRcdFx0ICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKVxuXHRcdFx0ICAgICAgICAgICAge1xuXHRcdFx0ICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZXZpZXcgc3VjY2VzcycpO1xuXHRcdFx0ICAgICAgICAgICAgICAgICQoJyNyZXZpZXdfYm94JykuaGlkZSgnc3dpbmcnKTtcblx0XHRcdCAgICAgICAgICAgICAgICAkKCcjdGhhbmtfeW91X2JveCcpLnNob3coJ3N3aW5nJyk7XG5cdFx0XHQgICAgICAgICAgICB9LFxuXHRcdFx0ICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93biApXG5cdFx0XHQgICAgICAgICAgICB7XG5cdFx0XHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2coanFYSFIpO1xuXHRcdFx0ICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRleHRTdGF0dXMpO1xuXHRcdFx0ICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yVGhyb3duKTtcblx0XHRcdCAgICAgICAgICAgIH0sXG5cdFx0XHQgICAgICAgIH0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICgkKCcjcmV2aWV3X3RpdGxlJykudmFsKCkgPT09ICcnKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdCQoJyNyZXZpZXdfdGl0bGVfZXJyb3InKS5zaG93KCdzd2luZycpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQkKCcjcmV2aWV3X3RpdGxlX2Vycm9yJykuaGlkZSgnc3dpbmcnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCQoJyNyZXZpZXdfdGV4dCcpLnZhbCgpID09PSAnJylcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHQkKCcjcmV2aWV3X3RleHRfZXJyb3InKS5zaG93KCdzd2luZycpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQkKCcjcmV2aWV3X3RleHRfZXJyb3InKS5oaWRlKCdzd2luZycpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRpZiAoICQoJyNfbGxtc19kaXNwbGF5X3Jldmlld3MnKS5hdHRyKCdjaGVja2VkJykgKSB7XG5cdFx0XHRcdCQoJy5sbG1zLW51bS1yZXZpZXdzLXRvcCcpLmFkZENsYXNzKCd0b3AnKTtcblx0XHRcdFx0JCgnLmxsbXMtbnVtLXJldmlld3MtYm90dG9tJykuc2hvdygpO1xuXHRcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoJy5sbG1zLW51bS1yZXZpZXdzLWJvdHRvbScpLmhpZGUoKTtcblx0XHRcdH1cblx0XHRcdCQoJyNfbGxtc19kaXNwbGF5X3Jldmlld3MnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggJCgnI19sbG1zX2Rpc3BsYXlfcmV2aWV3cycpLmF0dHIoJ2NoZWNrZWQnKSApIHtcblx0XHRcdFx0XHQkKCcubGxtcy1udW0tcmV2aWV3cy10b3AnKS5hZGRDbGFzcygndG9wJyk7XG5cdFx0XHRcdFx0JCgnLmxsbXMtbnVtLXJldmlld3MtYm90dG9tJykuc2hvdygpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCQoJy5sbG1zLW51bS1yZXZpZXdzLXRvcCcpLnJlbW92ZUNsYXNzKCd0b3AnKTtcblx0XHRcdFx0XHQkKCcubGxtcy1udW0tcmV2aWV3cy1ib3R0b20nKS5oaWRlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcblx0XHR9LFxuXHR9O1xuXHRcblx0LyogZ2xvYmFsIExMTVMsICQgKi9cblx0XG5cdC8qKlxuXHQgKiBBZGQgU3Bpbm5lcnMgZm9yIEFKQVggZXZlbnRzXG5cdCAqIEBzaW5jZSAzLjAuMFxuXHQgKiBAdmVyc2lvbiAzLjAuMFxuXHQgKi9cblx0TExNUy5TcGlubmVyID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBHZXQgYW4gZXhpdGluZyBzcGlubmVyIGVsZW1lbnQgb3IgY3JlYXRlIGEgbmV3IG9uZVxuXHRcdCAqIEBwYXJhbSAgICBvYmogICAgICAkZWwgICBqUXVlcnkgc2VsZWN0b3Igb2YgdGhlIHBhcmVudCBlbGVtZW50IHRoYXQgc2hvdWxkIGhvbGQgYW5kIGJlIG1hc2VkIGJ5IGEgc3Bpbm5uZXJcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgc2l6ZSAgc2l6ZSBvciB0aGUgc3Bpbm5lciBbZGVmYXVsdHxzbWFsbF1cblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCBpcyA0MHB4XG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgIHNtYWxsIGlzIDIwcHhcblx0XHQgKiBAcmV0dXJuICAgb2JqXG5cdFx0ICogQHNpbmNlIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gMy4wLjBcblx0XHQgKi9cblx0XHRnZXQ6IGZ1bmN0aW9uKCAkZWwsIHNpemUgKSB7XG5cdFxuXHRcdFx0Ly8gbG9vayBmb3IgYW4gZXhpc3Rpbmcgc3Bpbm5lclxuXHRcdFx0dmFyICRzcGlubmVyID0gJGVsLmZpbmQoICcubGxtcy1zcGlubmluZycgKS5maXJzdCgpO1xuXHRcblx0XHRcdC8vIG5vIHNwaW5uZXIgaW5zaWRlICRlbFxuXHRcdFx0aWYgKCAhJHNwaW5uZXIubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0c2l6ZSA9ICggc2l6ZSApID8gc2l6ZSA6ICdkZWZhdWx0Jztcblx0XG5cdFx0XHRcdC8vIGNyZWF0ZSB0aGUgc3Bpbm5lclxuXHRcdFx0XHQkc3Bpbm5lciA9ICQoICc8ZGl2IGNsYXNzPVwibGxtcy1zcGlubmluZ1wiPjxpIGNsYXNzPVwibGxtcy1zcGlubmVyICcgKyBzaXplICsgJ1wiPjwvaT48L2Rpdj4nICk7XG5cdFxuXHRcdFx0XHQvLyBhZGQgaXQgdG8gdGhlIGRvbVxuXHRcdFx0XHQkZWwuYXBwZW5kKCAkc3Bpbm5lciApO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0XHQvLyByZXR1cm4gaXRcblx0XHRcdHJldHVybiAkc3Bpbm5lcjtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU3RhcnQgc3Bpbm5lcihzKSBpbnI9c2lkZSBhIGdpdmVuIGVsZW1lbnRcblx0XHQgKiBDcmVhdGVzIHRoZW0gaWYgdGhleSBkb24ndCBleGlzdCFcblx0XHQgKiBAcGFyYW0gICBvYmogICAgICAkZWwgICBqUXVlcnkgc2VsZWN0b3Igb2YgdGhlIHBhcmVudCBlbGVtZW50IHRoYXQgc2hvdWxkIGhvbGQgYW5kIGJlIG1hc2VkIGJ5IGEgc3Bpbm5uZXJcblx0XHQgKiBAcGFyYW0gICBzdHJpbmcgICBzaXplICBzaXplIG9yIHRoZSBzcGlubmVyIFtkZWZhdWx0fHNtYWxsXVxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IGlzIDQwcHhcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgc21hbGwgaXMgMjBweFxuXHRcdCAqIEByZXR1cm4gIHZvaWRcblx0XHQgKiBAc2luY2UgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uIDMuMC4wXG5cdFx0ICovXG5cdFx0c3RhcnQ6IGZ1bmN0aW9uKCAkZWwsIHNpemUgKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdCRlbC5lYWNoKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdHNlbGYuZ2V0KCAkKCB0aGlzICksIHNpemUgKS5zaG93KCk7XG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBTdG9yIHNwaW5uZXJzIHdpdGhpbiBhbiBlbGVtZW50XG5cdFx0ICogQHBhcmFtICAgb2JqICAgICAgJGVsICAgalF1ZXJ5IHNlbGVjdG9yIG9mIHRoZSBwYXJlbnQgZWxlbWVudCB0aGF0IHNob3VsZCBob2xkIGFuZCBiZSBtYXNlZCBieSBhIHNwaW5ubmVyXG5cdFx0ICogQHJldHVybiAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gMy4wLjBcblx0XHQgKi9cblx0XHRzdG9wOiBmdW5jdGlvbiggJGVsICkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHQkZWwuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRzZWxmLmdldCggJCggdGhpcyApICkuaGlkZSgpO1xuXHRcblx0XHRcdH0gKTtcblx0XG5cdFx0fVxuXHRcblx0fTtcblx0XG5cdC8qIGdsb2JhbCBMTE1TLCAkICovXG5cdFxuXHQvKipcblx0ICogU3R1ZGVudCBEYXNoYm9hcmQgcmVsYXRlZCBKU1xuXHQgKiBAdHlwZSAge09iamVjdH1cblx0ICogQHNpbmNlICAgIDMuNy4wXG5cdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0ICovXG5cdExMTVMuU3R1ZGVudERhc2hib2FyZCA9IHtcblx0XG5cdFx0LyoqXG5cdFx0ICogU2x1ZyBmb3IgdGhlIGN1cnJlbnQgc2NyZWVuL2VuZHBvaW50XG5cdFx0ICogQHR5cGUgIHtTdHJpbmd9XG5cdFx0ICovXG5cdFx0c2NyZWVuOiAnJyxcblx0XG5cdFx0LyoqXG5cdFx0ICogV2lsbCBzaG93IHRoZSBudW1iZXIgb2YgbWV0ZXJzIG9uIHRoZSBwYWdlXG5cdFx0ICogVXNlZCB0byBjb25kaXRpb25hbGx5IGJpbmQgbWV0ZXItcmVsYXRlZCBldmVudHMgb25seSB3aGVuIG1ldGVyc1xuXHRcdCAqIGFjdHVhbGx5IGV4aXN0XG5cdFx0ICogQHR5cGUgIGludFxuXHRcdCAqL1xuXHRcdG1ldGVyX2V4aXN0czogMCxcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5pdFxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuNy4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdGlmICggJCggJy5sbG1zLXN0dWRlbnQtZGFzaGJvYXJkJyApLmxlbmd0aCApIHtcblx0XHRcdFx0dGhpcy5tZXRlcl9leGlzdHMgPSAkKCAnLmxsbXMtcGFzc3dvcmQtc3RyZW5ndGgtbWV0ZXInICkubGVuZ3RoO1xuXHRcdFx0XHR0aGlzLmJpbmQoKTtcblx0XG5cdFx0XHRcdGlmICggJ29yZGVycycgPT09IHRoaXMuZ2V0X3NjcmVlbigpICkge1xuXHRcblx0XHRcdFx0XHR0aGlzLmJpbmRfb3JkZXJzKCk7XG5cdFxuXHRcdFx0XHR9XG5cdFxuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIERPTSBldmVudHNcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjcuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjcuNFxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0JHRvZ2dsZSA9ICQoICcubGxtcy1zdHVkZW50LWRhc2hib2FyZCBhW2hyZWY9XCIjbGxtcy1wYXNzd29yZC1jaGFuZ2UtdG9nZ2xlXCJdJyApO1xuXHRcblx0XHRcdC8vIGNsaWNrIGV2ZW50IGZvciB0aGUgY2hhbmdlIHBhc3N3b3JkIGxpbmtcblx0XHRcdCR0b2dnbGUub24oICdjbGljaycsIGZ1bmN0aW9uKCBlICkge1xuXHRcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0XHRcdFx0dmFyICR0aGlzID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdGN1cnJfdGV4dCA9ICR0aGlzLnRleHQoKSxcblx0XHRcdFx0XHRjdXJyX2FjdGlvbiA9ICR0aGlzLmF0dHIoICdkYXRhLWFjdGlvbicgKSxcblx0XHRcdFx0XHRuZXdfYWN0aW9uID0gJ2hpZGUnID09PSBjdXJyX2FjdGlvbiA/ICdzaG93JyA6ICdoaWRlJyxcblx0XHRcdFx0XHRuZXdfdGV4dCA9ICR0aGlzLmF0dHIoICdkYXRhLXRleHQnICk7XG5cdFxuXHRcdFx0XHRzZWxmLnBhc3N3b3JkX3RvZ2dsZSggY3Vycl9hY3Rpb24gKTtcblx0XG5cdFx0XHRcdC8vIHByZXZlbnQgYWNjaWRlbnRhbCBjYW5jZWxzIHdoZW4gdXNlcnMgdGFiIG91dCBvZiB0aGUgY29uZmlybSBwYXNzd29yZCBmaWVsZFxuXHRcdFx0XHQvLyBhbmQgZXhwZWN0IHRvIGhpdCBzdWJtaXQgd2l0aCBlbnRlciBrZXkgaW1tZWRpYXRlbHkgYWZ0ZXJcblx0XHRcdFx0aWYgKCAnc2hvdycgPT09IGN1cnJfYWN0aW9uICkge1xuXHRcdFx0XHRcdCR0aGlzLmF0dHIoICd0YWJpbmRleCcsICctNzc3JyApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCR0aGlzLnJlbW92ZUF0dHIoICd0YWJpbmRleCcgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdFx0JHRoaXMuYXR0ciggJ2RhdGEtYWN0aW9uJywgbmV3X2FjdGlvbiApLmF0dHIoICdkYXRhLXRleHQnLCBjdXJyX3RleHQgKS50ZXh0KCBuZXdfdGV4dCApO1xuXHRcblx0XHRcdH0gKTtcblx0XG5cdFx0XHQvLyB0aGlzIHdpbGwgcmVtb3ZlIHRoZSByZXF1aXJlZCBieSBkZWZhdWx0IHdpdGhvdXQgaGF2aW5nIHRvIG1lc3Mgd2l0aFxuXHRcdFx0Ly8gY29uZGl0aW9uYWxzIGluIFBIUCBhbmQgc3RpbGwgYWxsb3dzIHRoZSByZXF1aXJlZCAqIHRvIHNob3cgaW4gdGhlIGxhYmVsXG5cdFxuXHRcdFx0aWYgKCB0aGlzLm1ldGVyX2V4aXN0cyApIHtcblx0XG5cdFx0XHRcdCQoICcubGxtcy1wZXJzb24tZm9ybS5lZGl0LWFjY291bnQnICkub24oICdsbG1zLXBhc3N3b3JkLXN0cmVuZ3RoLXJlYWR5JywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c2VsZi5wYXNzd29yZF90b2dnbGUoICdoaWRlJyApO1xuXHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRcdHNlbGYucGFzc3dvcmRfdG9nZ2xlKCAnaGlkZScgKTtcblx0XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgZXZlbnRzIHJlbGF0ZWQgdG8gdGhlIG9yZGVycyBzY3JlZW4gb24gdGhlIGRhc2hib2FyZFxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMTAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0XHQgKi9cblx0XHRiaW5kX29yZGVyczogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0JCggJyNsbG1zLWNhbmNlbC1zdWJzY3JpcHRpb24tZm9ybScgKS5vbiggJ3N1Ym1pdCcsIHRoaXMub3JkZXJfY2FuY2VsX3dhcm5pbmcgKTtcblx0XHRcdCQoICcjbGxtc191cGRhdGVfcGF5bWVudF9tZXRob2QnICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkKCAnaW5wdXRbbmFtZT1cImxsbXNfcGF5bWVudF9nYXRld2F5XCJdOmNoZWNrZWQnICkudHJpZ2dlciggJ2NoYW5nZScgKTtcblx0XHRcdFx0JCggdGhpcyApLmNsb3Nlc3QoICdmb3JtJyApLmZpbmQoICcubGxtcy1zd2l0Y2gtcGF5bWVudC1zb3VyY2UtbWFpbicgKS5zbGlkZVRvZ2dsZSggJzIwMCcgKTtcblx0XHRcdH0gKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0IHRoZSBjdXJyZW50IGRhc2hib2FyZCBlbmRwb2ludC90YWIgc2x1Z1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMTAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0XHQgKi9cblx0XHRnZXRfc2NyZWVuOiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggIXRoaXMuc2NyZWVuICkge1xuXHRcdFx0XHR0aGlzLnNjcmVlbiA9ICQoICcubGxtcy1zdHVkZW50LWRhc2hib2FyZCcgKS5hdHRyKCAnZGF0YS1jdXJyZW50JyApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXMuc2NyZWVuO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFNob3cgYSBjb25maXJtYXRpb24gd2FybmluZyB3aGVuIENhbmNlbCBTdWJzY3JpcHRpb24gZm9ybSBpcyBzdWJtaXR0ZWRcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgZSAgSlMgZXZlbnQgZGF0YVxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMTAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0XHQgKi9cblx0XHRvcmRlcl9jYW5jZWxfd2FybmluZzogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR2YXIgbXNnID0gTExNUy5sMTBuLnRyYW5zbGF0ZSggJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjYW5jZWwgeW91ciBzdWJzY3JpcHRpb24/JyApO1xuXHRcdFx0aWYgKCB3aW5kb3cuY29uZmlybSggTExNUy5sMTBuLnRyYW5zbGF0ZSggbXNnICkgKSApIHtcblx0XHRcdFx0JCggdGhpcyApLm9mZiggJ3N1Ym1pdCcsIHRoaXMub3JkZXJfY2FuY2VsX3dhcm5pbmcgKTtcblx0XHRcdFx0JCggdGhpcyApLnN1Ym1pdCgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRvZ2dsZSBwYXNzd29yZCByZWxhdGVkIGZpZWxkcyBvbiB0aGUgYWNjb3VudCBlZGl0IHBhZ2Vcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgYWN0aW9uICBbc2hvd3xoaWRlXVxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuNy4wXG5cdFx0ICogQHZlcnNpb24gIDMuNy40XG5cdFx0ICovXG5cdFx0cGFzc3dvcmRfdG9nZ2xlOiBmdW5jdGlvbiggYWN0aW9uICkge1xuXHRcblx0XHRcdGlmICggIWFjdGlvbiApIHtcblx0XHRcdFx0YWN0aW9uID0gJ3Nob3cnO1xuXHRcdFx0fVxuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0JHB3ZHMgPSAkKCAnI3Bhc3N3b3JkLCAjcGFzc3dvcmRfY29uZmlybSwgI2N1cnJlbnRfcGFzc3dvcmQnICksXG5cdFx0XHRcdCRmb3JtID0gJCggJyNwYXNzd29yZCcgKS5jbG9zZXN0KCAnZm9ybScgKTtcblx0XG5cdFx0XHQvLyBoaWRlIG9yIHNob3cgdGhlIGZpZWxkc1xuXHRcdFx0JCggJy5sbG1zLWNoYW5nZS1wYXNzd29yZCcgKVsgYWN0aW9uIF0oKTtcblx0XG5cdFx0XHRpZiAoICdzaG93JyA9PT0gYWN0aW9uICkge1xuXHRcdFx0XHQvLyBtYWtlIHBhc3N3b3JkcyByZXF1aXJlZFxuXHRcdFx0XHQkcHdkcy5hdHRyKCAncmVxdWlyZWQnLCAncmVxdWlyZWQnICk7XG5cdFxuXHRcdFx0XHRpZiAoIHNlbGYubWV0ZXJfZXhpc3RzICkge1xuXHRcdFx0XHRcdC8vIGFkZCB0aGUgc3RyZW5ndGggY2hlY2sgb24gZm9ybSBzdWJtaXNzaW9uXG5cdFx0XHRcdFx0JGZvcm0ub24oICdzdWJtaXQnLCBMTE1TLlBhc3N3b3JkU3RyZW5ndGgsIExMTVMuUGFzc3dvcmRTdHJlbmd0aC5zdWJtaXQgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIHJlbW92ZSByZXF1aXJlbWVudCBzbyBmb3JtIGNhbiBiZSBzdWJtaXR0ZWQgd2hpbGUgZmllbGRzIGFyZSBoaWRkZW5cblx0XHRcdFx0Ly8gYW5kIGNsZWFyIHRoZSBwYXNzd29yZCBvdXQgb2YgdGhlIGZpZWxkcyBpZiB0eXBpbmcgc3RhcnRlZFxuXHRcdFx0XHQkcHdkcy5yZW1vdmVBdHRyKCAncmVxdWlyZWQnICkudmFsKCAnJyApO1xuXHRcblx0XHRcdFx0aWYgKCBzZWxmLm1ldGVyX2V4aXN0cyApIHtcblx0XG5cdFx0XHRcdFx0Ly8gcmVtb3ZlIHRoZSBwYXNzd29yZCBzdHJlbmd0aCBzdWJtaXNzaW9uIGNoZWNrXG5cdFx0XHRcdFx0JGZvcm0ub2ZmKCAnc3VibWl0JywgTExNUy5QYXNzd29yZFN0cmVuZ3RoLnN1Ym1pdCApO1xuXHRcdFx0XHRcdC8vIGNsZWFycyB0aGUgbWV0ZXJcblx0XHRcdFx0XHRMTE1TLlBhc3N3b3JkU3RyZW5ndGguY2hlY2tfc3RyZW5ndGgoKTtcblx0XG5cdFx0XHRcdH1cblx0XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHR9O1xuXHRcblx0LypnbG9iYWwgTExNUyAqL1xuXHQvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqL1xuXHRcblx0LyoqXG5cdCAqIFJlc3QgTWV0aG9kc1xuXHQgKiBNYW5hZ2VzIFVSTCBhbmQgUmVzdCBvYmplY3QgcGFyc2luZ1xuXHQgKiBAdHlwZSB7T2JqZWN0fVxuXHQgKi9cblx0TExNUy5SZXN0ID0ge1xuXHRcblx0XHQvKipcblx0XHQgKiBpbml0XG5cdFx0ICogbG9hZHMgY2xhc3MgbWV0aG9kc1xuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5iaW5kKCk7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBNZXRob2Rcblx0XHQgKiBIYW5kbGVzIGRvbSBiaW5kaW5nIG9uIGxvYWRcblx0XHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cblx0XHQgKi9cblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBTZWFyY2hlcyBmb3Igc3RyaW5nIG1hdGNoZXMgaW4gdXJsIHBhdGhcblx0XHQgKiBAcGFyYW0gIHtBcnJheX0gIHN0cmluZ3MgW0FycmF5IG9mIHN0cmluZ3MgdG8gc2VhcmNoIGZvciBtYXRjaGVzXVxuXHRcdCAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgICAgW1dhcyBhIG1hdGNoIGZvdW5kP11cblx0XHQgKi9cblx0XHRpc19wYXRoOiBmdW5jdGlvbiggc3RyaW5ncyApIHtcblx0XG5cdFx0XHR2YXIgcGF0aF9leGlzdHMgPSBmYWxzZSxcblx0XHRcdFx0dXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5cdFxuXHRcdFx0Zm9yKCB2YXIgaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aDsgaSsrICkge1xuXHRcblx0XHRcdFx0aWYgKCB1cmwuc2VhcmNoKCBzdHJpbmdzW2ldICkgPiAwICYmICFwYXRoX2V4aXN0cyApIHtcblx0XG5cdFx0XHRcdFx0cGF0aF9leGlzdHMgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHBhdGhfZXhpc3RzO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJldHJpZXZlcyBxdWVyeSB2YXJpYWJsZXNcblx0XHQgKiBAcmV0dXJuIHtbQXJyYXldfSBbYXJyYXkgb2JqZWN0IG9mIHF1ZXJ5IHZhcmlhYmxlIGtleT0+dmFsdWUgcGFpcnNdXG5cdFx0ICovXG5cdFx0Z2V0X3F1ZXJ5X3ZhcnM6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHQgICAgdmFyIHZhcnMgPSBbXSwgaGFzaCxcblx0XHQgICAgXHRoYXNoZXMgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zbGljZSh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCc/JykgKyAxKS5zcGxpdCgnJicpO1xuXHRcblx0XHQgICAgZm9yKHZhciBpID0gMDsgaSA8IGhhc2hlcy5sZW5ndGg7IGkrKykge1xuXHRcdCAgICAgICAgaGFzaCA9IGhhc2hlc1tpXS5zcGxpdCgnPScpO1xuXHRcdCAgICAgICAgdmFycy5wdXNoKGhhc2hbMF0pO1xuXHRcdCAgICAgICAgdmFyc1toYXNoWzBdXSA9IGhhc2hbMV07XG5cdFx0ICAgIH1cblx0XG5cdCAgICBcdHJldHVybiB2YXJzO1xuXHRcdH1cblx0XG5cdH07XG5cdFxuXG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIGFsbCBjbGFzc2VzIHdpdGhpbiB0aGUgTExNUyBOYW1lc3BhY2Vcblx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG5cdCAqL1xuXHRMTE1TLmluaXQgPSBmdW5jdGlvbigpIHtcblxuXHRcdGZvciAodmFyIGZ1bmMgaW4gTExNUykge1xuXG5cdFx0XHRpZiAoIHR5cGVvZiBMTE1TW2Z1bmNdID09PSAnb2JqZWN0JyAmJiBMTE1TW2Z1bmNdICE9PSBudWxsICkge1xuXG5cdFx0XHRcdGlmICggTExNU1tmdW5jXS5pbml0ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0XHRpZiAoIHR5cGVvZiBMTE1TW2Z1bmNdLmluaXQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdExMTVNbZnVuY10uaW5pdCgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHR9O1xuXG5cdC8qKlxuXHQgKiBXYWl0IGZvciBtYXRjaEhlaWdodCB0byBsb2FkXG5cdCAqIEBwYXJhbSAgICB7RnVuY3Rpb259ICBjYiAgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcnVuIHdoZW4gbWF0Y2hoZWlnaHQgaXMgcmVhZHlcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjE2LjZcblx0ICovXG5cdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQgPSBmdW5jdGlvbiggY2IgKSB7XG5cdFx0dGhpcy53YWl0X2ZvciggZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gKCB1bmRlZmluZWQgIT09ICQuZm4ubWF0Y2hIZWlnaHQgKTtcblx0XHR9LCBjYiApO1xuXHR9XG5cblx0LyoqXG5cdCAqIFdhaXQgZm9yIHdlYnVpUG9wb3ZlciB0byBsb2FkXG5cdCAqIEBwYXJhbSAgICB7RnVuY3Rpb259ICBjYiAgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcnVuIHdoZW4gbWF0Y2hoZWlnaHQgaXMgcmVhZHlcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuOS4xXG5cdCAqIEB2ZXJzaW9uICAzLjE2LjZcblx0ICovXG5cdExMTVMud2FpdF9mb3JfcG9wb3ZlciA9IGZ1bmN0aW9uKCBjYiApIHtcblx0XHR0aGlzLndhaXRfZm9yKCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiAoIHVuZGVmaW5lZCAhPT0gJC5mbi53ZWJ1aVBvcG92ZXIgKTtcblx0XHR9LCBjYiApO1xuXHR9XG5cblx0LyoqXG5cdCAqIFdhaXQgZm9yIGEgZGVwZW5kZW5jeSB0byBsb2FkIGFuZCB0aGVuIHJ1biBhIGNhbGxiYWNrIG9uY2UgaXQgaGFzXG5cdCAqIFRlbXBvcmFyeSBmaXggZm9yIGEgbGVzcy10aGFuLW9wdGltYWwgYXNzZXRzIGxvYWRpbmcgZnVuY3Rpb24gb24gdGhlIFBIUCBzaWRlIG9mIHRoaW5nc1xuXHQgKiBAcGFyYW0gICAge0Z1bmN0aW9ufSAgICB0ZXN0ICBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHRydXRoeSBpZiB0aGUgZGVwZW5kZW5jeSBpcyBsb2FkZWRcblx0ICogQHBhcmFtICAgIHtGdW5jdGlvbn0gICAgY2IgICAgYSBjYWxsYmFjayBmdW5jdGlvbiBleGVjdXRlZCBvbmNlIHRoZSBkZXBlbmRlbmN5IGlzIGxvYWRlZFxuXHQgKiBAcmV0dXJuICAgdm9pZFxuXHQgKiBAc2luY2UgICAgMy45LjFcblx0ICogQHZlcnNpb24gIDMuOS4xXG5cdCAqL1xuXHRMTE1TLndhaXRfZm9yID0gZnVuY3Rpb24oIHRlc3QsIGNiICkge1xuXG5cdFx0dmFyIGNvdW50ZXIgPSAwLFxuXHRcdFx0aW50ZXJ2YWw7XG5cblx0XHRpbnRlcnZhbCA9IHNldEludGVydmFsKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gaWYgd2UgZ2V0IHRvIDMwIHNlY29uZHMgbG9nIGFuIGVycm9yIG1lc3NhZ2Vcblx0XHRcdGlmICggY291bnRlciA+PSAzMDAgKSB7XG5cblx0XHRcdFx0Y29uc29sZS5sb2coICdjb3VsZCBub3QgbG9hZCBkZXBlbmRlbmN5JyApO1xuXG5cdFx0XHQvLyBpZiB3ZSBjYW4ndCBhY2Nlc3MgeWUsIGluY3JlbWVudCBhbmQgd2FpdC4uLlxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBiaW5kIHRoZSBldmVudHMsIHdlJ3JlIGdvb2QhXG5cdFx0XHRcdGlmICggdGVzdCgpICkge1xuXG5cdFx0XHRcdFx0Y2IoKTtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coICd3YWl0aW5nLi4uJyApO1xuXHRcdFx0XHRcdGNvdW50ZXIrKztcblx0XHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHRcdGNsZWFySW50ZXJ2YWwoIGludGVydmFsICk7XG5cblx0XHR9LCAxMDAgKTtcblxuXHR9O1xuXG5cdExMTVMuaW5pdCgkKTtcblxuXG59KShqUXVlcnkpO1xuIl19
