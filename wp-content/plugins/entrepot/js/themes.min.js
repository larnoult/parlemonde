!function(a,b){if(void 0===typeof entrepotl10nThemes)return!1;var c=_.extend(window.entrepot||{},_.pick(b,"themes")),d=c.themes.view.Themes,e=c.themes.view.Theme,f=c.themes.view.Details;b.themes.view.Themes=d.extend({render:function(){c.themes.router&&"entrepot"===c.themes.router.selectedTab&&this.collection.reset(this.collection.shuffle(),{silent:!0}),d.prototype.render.apply(this,arguments)}}),b.themes.view.Theme=e.extend({render:function(){if(e.prototype.render.apply(this,arguments),c.themes.router&&"entrepot"===c.themes.router.selectedTab&&!this.model.get("hasPreview")){var a=this.$el.find(".install-theme-preview");this.$el.find(".more-details").html(entrepotl10nThemes.moreText),a.length&&a.html(entrepotl10nThemes.btnText)}}}),b.themes.view.Details=f.extend({render:function(){f.prototype.render.apply(this,arguments);var b=this.model.get("entrepotData");if(b){var c=a("<div></div>").prop("class","entrepot-actions");a.each(b,function(b,d){c.append(a("<a></a>").html(d.text).prop({href:d.url,class:b+" button"}))}),this.$el.find(".theme-actions").prepend(c)}}}),a(".wp-filter .filter-links").append(a("<li></li>").html(a("<a></a>").html(entrepotl10nThemes.tabText).prop("href","#").attr("data-sort","entrepot")))}(jQuery,window.wp||{});